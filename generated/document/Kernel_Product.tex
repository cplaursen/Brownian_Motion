%
\begin{isabellebody}%
\setisabellecontext{Kernel{\isacharunderscore}{\kern0pt}Product}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Kernel{\isacharunderscore}{\kern0pt}Product\isanewline
\ \ \isakeyword{imports}\ Kernel\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\begin{isamarkuptext}%
Klenke theorem 14.25%
\end{isamarkuptext}\isamarkuptrue%
%
\DefineSnippet{kernel_product}{
\isacommand{definition}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}product\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ kernel\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}b{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ kernel\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b\ {\isasymtimes}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ kernel{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{infixr}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymOtimes}\isactrlsub K{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isadigit{9}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
{\isachardoublequoteopen}kernel{\isacharunderscore}{\kern0pt}product\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isasymequiv}\ kernel{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}\isactrlsub {\isadigit{0}}\ A{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ A\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%EndSnippet
\isacommand{lemma}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}source{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}kernel{\isacharunderscore}{\kern0pt}source\ {\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub K\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}target{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub K\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\DefineSnippet{kernel_product_partial}{
\isacommand{definition}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}partial\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ kernel\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}b{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ kernel\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b\ {\isasymtimes}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ kernel{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{infixr}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymOtimes}\isactrlsub P{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isadigit{9}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
{\isachardoublequoteopen}kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}partial\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isasymequiv}\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub K\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}\ A\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}snd\ {\isasymomega}{\isacharparenright}{\kern0pt}\ A\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%EndSnippet
\isacommand{lemma}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}source{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}kernel{\isacharunderscore}{\kern0pt}source\ {\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub P\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}target{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub P\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}A\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}M{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ M{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ measurable{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fst{\isacharbrackleft}{\kern0pt}measurable{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ space\ M{\isadigit{1}}\ {\isasymLongrightarrow}\ {\isacharbraceleft}{\kern0pt}a{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ measurable{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}snd{\isacharbrackleft}{\kern0pt}measurable{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ space\ M{\isadigit{2}}\ {\isasymLongrightarrow}\ {\isacharbraceleft}{\kern0pt}a{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}x{\isacharparenright}{\kern0pt}\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}A\ {\isasymin}\ sigma{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}space\ M{\isadigit{1}}\ {\isasymtimes}\ space\ M{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}a\ {\isasymtimes}\ b{\isacharparenright}{\kern0pt}{\isacharbar}{\kern0pt}\ a\ b\ {\isachardot}{\kern0pt}\ a{\isasymin}\ sets\ M{\isadigit{1}}\ {\isasymand}\ b\ {\isasymin}\ sets\ M{\isadigit{2}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ sets{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ space\ M{\isadigit{1}}\ {\isasymLongrightarrow}\ {\isacharbraceleft}{\kern0pt}a{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ space\ M{\isadigit{2}}\ {\isasymLongrightarrow}\ {\isacharbraceleft}{\kern0pt}a{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}x{\isacharparenright}{\kern0pt}\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ induct\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Basic\ a{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}aa{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ aa{\isacharparenright}{\kern0pt}\ {\isasymin}\ a{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isadigit{2}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}aa{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}aa{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ a{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ set{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff\ sets{\isachardot}{\kern0pt}sets{\isacharunderscore}{\kern0pt}Collect{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ Empty\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isadigit{2}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isadigit{1}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Compl\ a{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ space\ M{\isadigit{1}}\ {\isasymLongrightarrow}\ space\ M{\isadigit{2}}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}aa{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ aa{\isacharparenright}{\kern0pt}\ {\isasymin}\ a{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ space\ M{\isadigit{2}}\ {\isasymLongrightarrow}\ space\ M{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}aa{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}aa{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ a{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Compl\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ space\ M{\isadigit{1}}\ {\isasymLongrightarrow}\ {\isacharbraceleft}{\kern0pt}aa{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ aa{\isacharparenright}{\kern0pt}\ {\isasymin}\ space\ M{\isadigit{1}}\ {\isasymtimes}\ space\ M{\isadigit{2}}\ {\isacharminus}{\kern0pt}\ a{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ space\ M{\isadigit{2}}\ {\isasymLongrightarrow}\ {\isacharbraceleft}{\kern0pt}aa{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}aa{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ space\ M{\isadigit{1}}\ {\isasymtimes}\ space\ M{\isadigit{2}}\ {\isacharminus}{\kern0pt}\ a{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}SIG{\isacharparenright}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}cong\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ set{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Union\ a{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ space\ M{\isadigit{1}}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}i{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}aa{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ aa{\isacharparenright}{\kern0pt}\ {\isasymin}\ a\ i{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ sets\ M{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ space\ M{\isadigit{2}}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}i{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}aa{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}aa{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ a\ i{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ sets\ M{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Union\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ space\ M{\isadigit{1}}\ {\isasymLongrightarrow}\ {\isacharbraceleft}{\kern0pt}aa{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ aa{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymUnion}\ {\isacharparenleft}{\kern0pt}range\ a{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ space\ M{\isadigit{2}}\ {\isasymLongrightarrow}\ {\isacharbraceleft}{\kern0pt}aa{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}aa{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymUnion}\ {\isacharparenleft}{\kern0pt}range\ a{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}ex{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Required for monotone convergence in the below theorem%
\end{isamarkuptext}\isamarkuptrue%
%
\DefineSnippet{kernel_snd_measurable}{
\isacommand{lemma}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}snd{\isacharunderscore}{\kern0pt}measurable{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ K\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isasymtimes}{\isacharprime}{\kern0pt}b{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ kernel{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ A{\isacharunderscore}{\kern0pt}sets{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}M{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ sets{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sets\ {\isacharparenleft}{\kern0pt}M{\isadigit{0}}\ {\isasymOtimes}\isactrlsub M\ M{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymomega}\isactrlsub {\isadigit{0}}\ {\isasymin}\ space\ M{\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ finite{\isacharunderscore}{\kern0pt}kernel{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}kernel\ K{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}w{\isachardot}{\kern0pt}\ kernel\ K\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ borel{\isacharunderscore}{\kern0pt}measurable\ M{\isadigit{1}}{\isachardoublequoteclose}%
}%EndSnippet
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ M{\isadigit{2}}\ \isakeyword{where}\ {\isachardoublequoteopen}M{\isadigit{2}}\ {\isasymequiv}\ kernel{\isacharunderscore}{\kern0pt}target\ K{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}G\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymtimes}\ y\ {\isacharbar}{\kern0pt}\ x\ y{\isachardot}{\kern0pt}\ x\ {\isasymin}\ sets\ M{\isadigit{1}}\ {\isasymand}\ y\ {\isasymin}\ sets\ M{\isadigit{2}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sigma{\isacharunderscore}{\kern0pt}G{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sigma{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}M{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ M{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}G\ {\isacharequal}{\kern0pt}\ sets\ {\isacharparenleft}{\kern0pt}M{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ M{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ sets{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure\ space{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Int{\isacharunderscore}{\kern0pt}stable\ {\isacharquery}{\kern0pt}G{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Int{\isacharunderscore}{\kern0pt}stable{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}generator\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}G\ {\isasymsubseteq}\ Pow\ {\isacharparenleft}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}M{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ M{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ pair{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}closed\ space{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}A\ {\isasymin}\ sigma{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}M{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ M{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}G{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ M{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ A{\isacharunderscore}{\kern0pt}sets\ sigma{\isacharunderscore}{\kern0pt}G\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ rule{\isacharcolon}{\kern0pt}\ sigma{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}disjoint{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}basic\ A{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ y\ \isakeyword{where}\ xy{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isacharequal}{\kern0pt}\ x\ {\isasymtimes}\ y{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ sets\ M{\isadigit{1}}{\isachardoublequoteclose}\ \ {\isachardoublequoteopen}y\ {\isasymin}\ sets\ M{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ x\ {\isasymLongrightarrow}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\ \isakeyword{for}\ w\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymnotin}\ x\ {\isasymLongrightarrow}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ w\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ xy\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}w{\isachardot}{\kern0pt}\ kernel\ K\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ A{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ borel{\isacharunderscore}{\kern0pt}measurable\ M{\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}A{\isacharprime}{\kern0pt}\ {\isasymin}\ sets\ M{\isadigit{2}}{\isachardoublequoteclose}\ \isakeyword{for}\ A{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ that\ M{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}measurable{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}w{\isachardot}{\kern0pt}\ kernel\ K\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ borel{\isacharunderscore}{\kern0pt}measurable\ M{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ xy\ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ measurable\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}SIG{\isacharparenright}{\kern0pt}\ M{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ empty{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ sets{\isachardot}{\kern0pt}empty{\isacharunderscore}{\kern0pt}sets\ subsetI\ subset{\isacharunderscore}{\kern0pt}antisym{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ pred{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ empty\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}compl\ A{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ w\ \isacommand{assume}\isamarkupfalse%
\ w{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isasymin}\ space\ M{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ space{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}M{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ M{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ space\ M{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ space{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ w\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ SigmaI\ sets{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}eq\ space{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}measure\ K\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}kernel{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}measures\ finite{\isacharunderscore}{\kern0pt}kernel{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}kernel{\isacharunderscore}{\kern0pt}measure\ K\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}space\ M{\isadigit{2}}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ kernel{\isacharunderscore}{\kern0pt}measure\ K\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}space\ M{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}measure\ K\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ M{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}space{\isacharbrackleft}{\kern0pt}THEN\ sym{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ emeasure{\isacharunderscore}{\kern0pt}compl{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ sigma{\isacharunderscore}{\kern0pt}G\ compl\ M{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ w\ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ finite{\isacharunderscore}{\kern0pt}measure{\isachardot}{\kern0pt}emeasure{\isacharunderscore}{\kern0pt}finite\ infinity{\isacharunderscore}{\kern0pt}ennreal{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}K\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}space\ M{\isadigit{2}}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ K\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}space\ M{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ K\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}emeasure\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\ \isacommand{note}\isamarkupfalse%
\ diff\ {\isacharequal}{\kern0pt}\ this\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ space{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}M{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ M{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ space\ M{\isadigit{2}}{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}w\ {\isasymin}\ space\ M{\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{for}\ w\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ that\ space{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}w{\isachardot}{\kern0pt}\ K\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}space\ M{\isadigit{2}}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ borel{\isacharunderscore}{\kern0pt}measurable\ M{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ measurable{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ diff{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ M{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ sets{\isacharunderscore}{\kern0pt}eq\ \isacommand{apply}\isamarkupfalse%
\ measurable\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymomega}\isactrlsub {\isadigit{0}}\ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ compl\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ measurable{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ g{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}w{\isachardot}{\kern0pt}\ K\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}space\ M{\isadigit{2}}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}cong\ Diff{\isacharunderscore}{\kern0pt}iff\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ minus{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ space{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\ \isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}union\ A{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ w\ \isacommand{assume}\isamarkupfalse%
\ w{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isasymin}\ space\ M{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymomega}\isactrlsub {\isadigit{0}}\ sets{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ sets{\isacharunderscore}{\kern0pt}eq{\isacharbrackright}{\kern0pt}\ space{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}measure{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}space\ M{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}sets\ M{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}kernel\ K\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ kernel{\isachardot}{\kern0pt}space{\isacharunderscore}{\kern0pt}source{\isacharunderscore}{\kern0pt}measure\ \isacommand{unfolding}\isamarkupfalse%
\ M{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ countably{\isacharunderscore}{\kern0pt}additive{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}countably{\isacharunderscore}{\kern0pt}additive\ {\isacharparenleft}{\kern0pt}sets\ M{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}kernel\ K\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ measure{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}range\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ A\ i{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ sets\ M{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ union{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ sigma{\isacharunderscore}{\kern0pt}G\ w\ \isacommand{unfolding}\isamarkupfalse%
\ M{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}disjoint{\isacharunderscore}{\kern0pt}family\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ A\ i{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ union{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymUnion}i{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ A\ i{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ sets\ M{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{4}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}range\ A{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}i{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ A\ i{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}kernel\ K\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}range\ A{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isachardot}{\kern0pt}\ kernel\ K\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ A\ i{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ countably{\isacharunderscore}{\kern0pt}additive\ {\isadigit{1}}\ {\isadigit{2}}\ {\isadigit{3}}\ {\isadigit{4}}\ \isacommand{unfolding}\isamarkupfalse%
\ countably{\isacharunderscore}{\kern0pt}additive{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\ \isacommand{note}\isamarkupfalse%
\ additive\ {\isacharequal}{\kern0pt}\ this\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}w{\isachardot}{\kern0pt}\ kernel\ K\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}range\ A{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ borel{\isacharunderscore}{\kern0pt}measurable\ M{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ measurable{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ additive{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ borel{\isacharunderscore}{\kern0pt}measurable{\isacharunderscore}{\kern0pt}suminf\ union\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Klenke theorem 14.25%
\end{isamarkuptext}\isamarkuptrue%
%
\DefineSnippet{kernel_product_transition_kernel}{
\isacommand{theorem}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}transition{\isacharunderscore}{\kern0pt}kernel{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ kernel{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isasymtimes}{\isacharprime}{\kern0pt}b{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ kernel{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{shows}\ {\isachardoublequoteopen}transition{\isacharunderscore}{\kern0pt}kernel\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}\isactrlsub {\isadigit{0}}\ A{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ A\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}transition{\isacharunderscore}{\kern0pt}kernel\ {\isacharquery}{\kern0pt}{\isasymOmega}\isactrlsub {\isadigit{1}}\ {\isacharquery}{\kern0pt}{\isasymOmega}\isactrlsub {\isadigit{2}}\ {\isacharquery}{\kern0pt}{\isasymkappa}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}%
}%EndSnippet
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ transition{\isacharunderscore}{\kern0pt}kernel{\isachardot}{\kern0pt}intro{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}M{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ {\isacharquery}{\kern0pt}M{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ {\isacharquery}{\kern0pt}M{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}f\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}A{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlambda}{\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ indicator\ A{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}snd\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}g\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlambda}f{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ x{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ f\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ A{\isacharprime}{\kern0pt}\ \isacommand{assume}\isamarkupfalse%
\ A{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A{\isacharprime}{\kern0pt}\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}M{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ {\isacharquery}{\kern0pt}M{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}f\ A{\isacharprime}{\kern0pt}\ {\isasymin}\ borel{\isacharunderscore}{\kern0pt}measurable\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}M{\isadigit{0}}\ {\isasymOtimes}\isactrlsub M\ {\isacharquery}{\kern0pt}M{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymOtimes}\isactrlsub M\ {\isacharquery}{\kern0pt}M{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ measurable\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ pred{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ A{\isacharprime}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}\ x{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharquery}{\kern0pt}f\ A{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ borel{\isacharunderscore}{\kern0pt}measurable\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}M{\isadigit{0}}\ {\isasymOtimes}\isactrlsub M\ {\isacharquery}{\kern0pt}M{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ measurable\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ eq\ measurable{\isacharunderscore}{\kern0pt}ident{\isacharunderscore}{\kern0pt}sets\ sets{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ finite{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ eq\ measurable{\isacharunderscore}{\kern0pt}ident{\isacharunderscore}{\kern0pt}sets\ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}\isactrlsub {\isadigit{0}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ A{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ borel{\isacharunderscore}{\kern0pt}measurable\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}measurable\ local{\isachardot}{\kern0pt}finite{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ measurable{\isacharunderscore}{\kern0pt}cong\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cong\ snd{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ {\isasymomega}\isactrlsub {\isadigit{0}}\ \isacommand{assume}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymomega}\isactrlsub {\isadigit{0}}\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}countably{\isacharunderscore}{\kern0pt}additive\ {\isacharparenleft}{\kern0pt}sets\ {\isacharquery}{\kern0pt}{\isasymOmega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}{\isasymkappa}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ countably{\isacharunderscore}{\kern0pt}additive{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}b\ {\isasymtimes}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ set{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ range{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}range\ A\ {\isasymsubseteq}\ sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeyword{and}\ disj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}disjoint{\isacharunderscore}{\kern0pt}family\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ {\isacharparenleft}{\kern0pt}{\isasymUnion}\ {\isacharparenleft}{\kern0pt}range\ A{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}n{\isachardot}{\kern0pt}\ indicator\ {\isacharparenleft}{\kern0pt}A\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ suminf{\isacharunderscore}{\kern0pt}indicator{\isacharbrackleft}{\kern0pt}OF\ disj{\isacharcomma}{\kern0pt}\ THEN\ sym{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}n{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ {\isacharparenleft}{\kern0pt}A\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}suminf{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ measurable\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ pred{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ range\ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ {\isacharparenleft}{\kern0pt}A\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}suminf{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ n\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}measurable\ {\isacharbrackleft}{\kern0pt}measurable{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ n\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ range\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}sigma{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ n\ {\isasymin}\ sigma{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ {\isacharbraceleft}{\kern0pt}a\ {\isasymtimes}\ b\ {\isacharbar}{\kern0pt}a\ b{\isachardot}{\kern0pt}\ a\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymand}\ b\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ sets{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ {\isasymomega}\isactrlsub {\isadigit{1}}\ \isacommand{assume}\isamarkupfalse%
\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymomega}\isactrlsub {\isadigit{1}}\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{define}\isamarkupfalse%
\ A{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}A{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ A\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ {\isacharparenleft}{\kern0pt}A\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ indicator\ A{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ A{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ indicator{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ {\isacharparenleft}{\kern0pt}A\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ A{\isacharprime}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ A{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ indicator{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ emeasure\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ A{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}indicator{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ A{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}measurable\ {\isasymomega}\isactrlsub {\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ {\isacharparenleft}{\kern0pt}A\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ emeasure\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ A{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\ \isacommand{note}\isamarkupfalse%
\ A\ {\isacharequal}{\kern0pt}\ this\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}w{\isachardot}{\kern0pt}\ kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ A\ n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ borel{\isacharunderscore}{\kern0pt}measurable\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ measurable{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}measure\ kernel{\isacharunderscore}{\kern0pt}snd{\isacharunderscore}{\kern0pt}measurable{\isacharbrackleft}{\kern0pt}OF\ A{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}measurable\ eq\ {\isacharasterisk}{\kern0pt}\ finite{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ {\isacharparenleft}{\kern0pt}A\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ borel{\isacharunderscore}{\kern0pt}measurable\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}SIG{\isacharparenright}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}emeasure\ measurable{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}i{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ {\isacharparenleft}{\kern0pt}A\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ {\isacharparenleft}{\kern0pt}{\isasymUnion}\ {\isacharparenleft}{\kern0pt}range\ A{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}measure{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}space\ {\isacharquery}{\kern0pt}{\isasymOmega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}sets\ {\isacharquery}{\kern0pt}{\isasymOmega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}{\isasymkappa}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ measure{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}def\ \isacommand{apply}\isamarkupfalse%
\ auto\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sets{\isachardot}{\kern0pt}sigma{\isacharunderscore}{\kern0pt}algebra{\isacharunderscore}{\kern0pt}axioms\ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ positive{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}apply{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ {\isachardoublequoteopen}{\isasymomega}\isactrlsub {\isadigit{0}}\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}A\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{shows}\ {\isachardoublequoteopen}kernel\ {\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub K\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{0}}\ A\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ A\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ kernel{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}of{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}transition{\isacharunderscore}{\kern0pt}kernel{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}transition{\isacharunderscore}{\kern0pt}kernel{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ kernel{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}b{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ kernel{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{shows}\ {\isachardoublequoteopen}transition{\isacharunderscore}{\kern0pt}kernel\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}\isactrlsub {\isadigit{0}}\ A{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ A\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}{\isachardot}{\kern0pt}\ kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}snd\ {\isasymomega}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}{\isasymomega}\isactrlsub {\isadigit{0}}\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ {\isasymomega}\isactrlsub {\isadigit{0}}\ {\isasymomega}\isactrlsub {\isadigit{1}}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}altdef{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ measure{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sets{\isachardot}{\kern0pt}space{\isacharunderscore}{\kern0pt}closed{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sets{\isachardot}{\kern0pt}sigma{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}{\isasymomega}\isactrlsub {\isadigit{1}}\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ kernel{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}of{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ space{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ transition{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ that{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}emeasure\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}sets\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}space\ measure{\isacharunderscore}{\kern0pt}space{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ A\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ A\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}{\isachardot}{\kern0pt}\ kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}snd\ {\isasymomega}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{for}\ {\isasymomega}\isactrlsub {\isadigit{0}}\ A\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}{\isasymomega}\isactrlsub {\isadigit{0}}\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}notin{\isacharunderscore}{\kern0pt}space{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}null{\isacharunderscore}{\kern0pt}measure\ null{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ {\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}transition{\isacharunderscore}{\kern0pt}kernel{\isacharbrackleft}{\kern0pt}of\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isachardoublequoteopen}kernel{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}{\isachardot}{\kern0pt}\ kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}snd\ {\isasymomega}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite\ eq\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}\ {\isadigit{1}}\ SigmaE\ finite{\isacharunderscore}{\kern0pt}kernel{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}measures\ finite{\isacharunderscore}{\kern0pt}kernelI\ sets{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}cong\ source{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}of\ space{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}apply{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ in{\isacharunderscore}{\kern0pt}space{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymomega}\isactrlsub {\isadigit{0}}\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ in{\isacharunderscore}{\kern0pt}sets{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{shows}\ {\isachardoublequoteopen}kernel\ {\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub P\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{0}}\ A\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ A\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ A\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}{\isachardot}{\kern0pt}\ kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}snd\ {\isasymomega}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ A\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isasymomega}\isactrlsub {\isadigit{1}}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}{\isasymomega}\isactrlsub {\isadigit{0}}\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ {\isasymomega}\isactrlsub {\isadigit{0}}\ A\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ x\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ arg{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ f{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlambda}M{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ A\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}M{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}of{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ space{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure\ eq{\isacharbrackleft}{\kern0pt}THEN\ sets{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}eq{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ transition{\isacharunderscore}{\kern0pt}kernel{\isachardot}{\kern0pt}intro{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}measurable{\isacharcomma}{\kern0pt}\ assumption{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ measurable\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}emeasure\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}sets\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}space\ measure{\isacharunderscore}{\kern0pt}space{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}altdef\ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}def\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ kernel{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}of{\isacharbrackleft}{\kern0pt}OF\ in{\isacharunderscore}{\kern0pt}space{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ in{\isacharunderscore}{\kern0pt}sets\ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ transition{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ g{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlambda}{\isasymomega}\isactrlsub {\isadigit{0}}\ A{\isachardot}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ A\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isasymomega}\isactrlsub {\isadigit{1}}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}\ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}transition{\isacharunderscore}{\kern0pt}kernel{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}\ in{\isacharunderscore}{\kern0pt}space\ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}sigma{\isacharunderscore}{\kern0pt}finite{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{shows}\ {\isachardoublequoteopen}sigma{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}kernel\ {\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub K\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ {\isasymomega}\isactrlsub {\isadigit{0}}\ \isacommand{assume}\isamarkupfalse%
\ {\isasymomega}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymomega}\isactrlsub {\isadigit{0}}\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ A\ \isakeyword{where}\ {\isachardoublequoteopen}A\ {\isasymequiv}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}\isactrlsub {\isadigit{0}}\ {\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}leq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharparenleft}{\kern0pt}A\ {\isasymomega}\isactrlsub {\isadigit{0}}\ n{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ n{\isachardoublequoteclose}\ \isakeyword{for}\ x\ n\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}sets{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isasymomega}\isactrlsub {\isadigit{0}}\ n\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ n\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}def\ \isacommand{apply}\isamarkupfalse%
\ measurable\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isasymomega}\ eq\ measurable{\isacharunderscore}{\kern0pt}Pair{\isadigit{1}}{\isacharprime}{\kern0pt}\ measurable{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}sets{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}countable\ {\isacharparenleft}{\kern0pt}range\ {\isacharparenleft}{\kern0pt}A\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isasyminfinity}{\isachardoublequoteclose}\ \isakeyword{for}\ x\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}finite\ local{\isachardot}{\kern0pt}finite{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isasymexists}m\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}Suc\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ m{\isachardoublequoteclose}\ \isakeyword{for}\ x\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Suc{\isacharunderscore}{\kern0pt}leI\ atLeast{\isacharunderscore}{\kern0pt}iff\ gr{\isadigit{0}}I\ infinity{\isacharunderscore}{\kern0pt}ennreal{\isacharunderscore}{\kern0pt}def\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}zero\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ top{\isachardot}{\kern0pt}not{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}extremum\ ennreal{\isacharunderscore}{\kern0pt}Ex{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymUnion}n\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ A\ {\isasymomega}\isactrlsub {\isadigit{0}}\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff\ {\isacharasterisk}{\kern0pt}\ {\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ sigma{\isacharunderscore}{\kern0pt}finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}kernel\ {\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub K\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{0}}\ {\isacharparenleft}{\kern0pt}A\ {\isasymomega}\isactrlsub {\isadigit{0}}\ n\ {\isasymtimes}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ {\isasyminfinity}{\isachardoublequoteclose}\ \isakeyword{for}\ n\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}kernel\ {\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub K\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{0}}\ {\isacharparenleft}{\kern0pt}A\ {\isasymomega}\isactrlsub {\isadigit{0}}\ n\ {\isasymtimes}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \isanewline
\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ {\isacharparenleft}{\kern0pt}A\ {\isasymomega}\isactrlsub {\isadigit{0}}\ n\ {\isasymtimes}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ kernel{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}apply{\isacharbrackleft}{\kern0pt}OF\ assms\ {\isasymomega}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}sets\ sets{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ L{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ indicator\ {\isacharparenleft}{\kern0pt}A\ {\isasymomega}\isactrlsub {\isadigit{0}}\ n{\isacharparenright}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}\ {\isacharasterisk}{\kern0pt}\ emeasure\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ indicator{\isacharunderscore}{\kern0pt}times\ A{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}simple{\isacharunderscore}{\kern0pt}integral{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ n{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ indicator\ {\isacharparenleft}{\kern0pt}A\ {\isasymomega}\isactrlsub {\isadigit{0}}\ n{\isacharparenright}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ indicator{\isacharunderscore}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ indicator{\isacharunderscore}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}emeasure\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ linorder{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}less\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ mult{\isachardot}{\kern0pt}commute\ mult{\isachardot}{\kern0pt}right{\isacharunderscore}{\kern0pt}neutral\ mult{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}right\ order{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ n\ {\isacharasterisk}{\kern0pt}\ kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}\isactrlsub {\isadigit{0}}\ {\isacharparenleft}{\kern0pt}A\ {\isasymomega}\isactrlsub {\isadigit{0}}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cmult{\isacharunderscore}{\kern0pt}indicator{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}sets\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}sets\ \isacommand{apply}\isamarkupfalse%
\ fast\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}emeasure{\isacharparenright}{\kern0pt}\ \isacommand{{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}\ {\isasyminfinity}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ finite{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}finite\ finite{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ennreal{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}top\ ennreal{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}top{\isacharunderscore}{\kern0pt}iff\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ ennreal{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}real{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ infinity{\isacharunderscore}{\kern0pt}ennreal{\isacharunderscore}{\kern0pt}def\ top{\isachardot}{\kern0pt}not{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}extremum{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}kernel\ {\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub K\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{0}}\ {\isacharparenleft}{\kern0pt}A\ {\isasymomega}\isactrlsub {\isadigit{0}}\ n\ {\isasymtimes}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ {\isasyminfinity}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}range\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}A\ {\isasymomega}\isactrlsub {\isadigit{0}}\ n\ {\isasymtimes}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}countable\ {\isacharquery}{\kern0pt}A\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharquery}{\kern0pt}A\ {\isasymsubseteq}\ sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymUnion}\ {\isacharquery}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a{\isasymin}{\isacharquery}{\kern0pt}A{\isachardot}{\kern0pt}\ emeasure\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub K\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{0}}{\isacharparenright}{\kern0pt}\ a\ {\isasymnoteq}\ {\isasymtop}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{prefer}\isamarkupfalse%
\ {\isadigit{5}}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ infinity{\isacharunderscore}{\kern0pt}ennreal{\isacharunderscore}{\kern0pt}def\ top{\isachardot}{\kern0pt}not{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}extremum\ sigma{\isacharunderscore}{\kern0pt}finite{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ assms\ {\isasymomega}\ \isacommand{apply}\isamarkupfalse%
\ measurable\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ space{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharasterisk}{\kern0pt}{\isachardoublequoteclose}\ space{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure\ \isacommand{apply}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ space{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}sigma{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}kernel\ {\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub K\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ sigma{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}kernel{\isachardot}{\kern0pt}intro\ sigma{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}measure{\isachardot}{\kern0pt}intro{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ infinity{\isacharunderscore}{\kern0pt}ennreal{\isacharunderscore}{\kern0pt}def\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}sets\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}space\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}source\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}target{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}stochastic{\isacharcolon}{\kern0pt}\ \ \ \ \isanewline
\ \ \isakeyword{assumes}\ stochastic{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}stochastic{\isacharunderscore}{\kern0pt}kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}stochastic{\isacharunderscore}{\kern0pt}kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{shows}\ {\isachardoublequoteopen}stochastic{\isacharunderscore}{\kern0pt}kernel\ {\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub K\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ stochastic{\isacharunderscore}{\kern0pt}kernelI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ {\isasymomega}\ \isacommand{assume}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymomega}\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ {\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub K\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ stochastic{\isacharunderscore}{\kern0pt}kernel{\isachardot}{\kern0pt}axioms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub K\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymomega}\ {\isacharparenleft}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub K\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ emeasure\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ kernel{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}apply{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ space{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure\ indicator{\isacharunderscore}{\kern0pt}times{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}simple{\isacharunderscore}{\kern0pt}integral{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isadigit{1}}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}full{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}{\isacharasterisk}{\kern0pt}{\isachardoublequoteclose}\ SigmaI\ eq\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}space\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}source\ prob{\isacharunderscore}{\kern0pt}space{\isachardot}{\kern0pt}emeasure{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ sets{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}eq\ space{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure\ stochastic{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ stochastic{\isacharunderscore}{\kern0pt}kernel{\isachardot}{\kern0pt}probability{\isacharunderscore}{\kern0pt}measures{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ stochastic{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ prob{\isacharunderscore}{\kern0pt}space{\isachardot}{\kern0pt}emeasure{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ stochastic{\isacharunderscore}{\kern0pt}kernel{\isachardot}{\kern0pt}probability{\isacharunderscore}{\kern0pt}measures\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}prob{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub K\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymomega}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ prob{\isacharunderscore}{\kern0pt}spaceI{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}substochastic{\isacharcolon}{\kern0pt}\ \ \ \ \isanewline
\ \ \isakeyword{assumes}\ substochastic{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}substochastic{\isacharunderscore}{\kern0pt}kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}substochastic{\isacharunderscore}{\kern0pt}kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ nonempty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \isakeyword{shows}\ {\isachardoublequoteopen}substochastic{\isacharunderscore}{\kern0pt}kernel\ {\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub K\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ substochastic{\isacharunderscore}{\kern0pt}kernelI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ {\isasymomega}\ \isacommand{assume}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymomega}\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ {\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub K\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}kernel\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ substochastic{\isacharunderscore}{\kern0pt}kernel{\isachardot}{\kern0pt}axioms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub K\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymomega}\ {\isacharparenleft}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub K\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\isanewline
\ \ \ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ emeasure\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}{\isasymomega}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ kernel{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}apply{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ space{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure\ indicator{\isacharunderscore}{\kern0pt}times{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}simple{\isacharunderscore}{\kern0pt}integral{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ \ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isadigit{1}}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymomega}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ substochastic{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}emeasure\ kernel{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}zero\isanewline
\ \ \ \ \ \ \ \ linordered{\isacharunderscore}{\kern0pt}nonzero{\isacharunderscore}{\kern0pt}semiring{\isacharunderscore}{\kern0pt}class{\isachardot}{\kern0pt}zero{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}one\ subprob{\isacharunderscore}{\kern0pt}space{\isachardot}{\kern0pt}subprob{\isacharunderscore}{\kern0pt}emeasure{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ \isanewline
\ \ \ \ \ \ \ \ substochastic{\isacharunderscore}{\kern0pt}kernel{\isachardot}{\kern0pt}subprob{\isacharunderscore}{\kern0pt}measures{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ substochastic\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ substochastic{\isacharunderscore}{\kern0pt}kernel{\isachardot}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}leq{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}subprob{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}K{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isasymOtimes}\isactrlsub K\ K{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymomega}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ subprob{\isacharunderscore}{\kern0pt}spaceI\ simp{\isacharcolon}{\kern0pt}\ nonempty{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}stochastic{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}stochastic{\isacharunderscore}{\kern0pt}kernel\ K\isactrlsub {\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}stochastic{\isacharunderscore}{\kern0pt}kernel\ K\isactrlsub {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ {\isachardoublequoteopen}sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}stochastic{\isacharunderscore}{\kern0pt}kernel\ {\isacharparenleft}{\kern0pt}K\isactrlsub {\isadigit{1}}\ {\isasymOtimes}\isactrlsub P\ K\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}stochastic{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fact\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ stochastic{\isacharunderscore}{\kern0pt}kernelI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{sorry}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Kernel semidirect product%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ arg{\isacharunderscore}{\kern0pt}cong{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlbrakk}a\ {\isacharequal}{\kern0pt}\ d{\isacharsemicolon}{\kern0pt}\ b\ {\isacharequal}{\kern0pt}\ e{\isacharsemicolon}{\kern0pt}\ c\ {\isacharequal}{\kern0pt}\ f{\isasymrbrakk}\ {\isasymLongrightarrow}\ g\ a\ b\ c\ {\isacharequal}{\kern0pt}\ g\ d\ e\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ semidirect{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}unique{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ space{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ space\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isasymin}\ space\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}measure\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}kernel\ K{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ sets{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sets\ M\ {\isacharequal}{\kern0pt}\ sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}emeasure{\isacharunderscore}{\kern0pt}kernel\ M\ M\ {\isasymOtimes}\isactrlsub P\ K{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}emeasure{\isacharunderscore}{\kern0pt}kernel\ M\ M\ {\isasymOtimes}\isactrlsub P\ K{\isacharparenright}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}altdef\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ arg{\isacharunderscore}{\kern0pt}cong{\isadigit{3}}{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ g{\isacharequal}{\kern0pt}measure{\isacharunderscore}{\kern0pt}of{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ allI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ A{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}A{\isacharprime}{\kern0pt}\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}M\ {\isasymOtimes}\isactrlsub M\ kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ kernel{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}apply{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite\ \isacommand{defer}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite\ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sets\ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ space\ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sets\ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ kernel{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}apply{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite\ \isacommand{defer}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite\ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sets\ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ space\ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sets\ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ emeasure{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}finite\ local{\isachardot}{\kern0pt}finite{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{apply}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\DefineSnippet{kernel_semidirect_product}{
\isacommand{definition}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}semidirect{\isacharunderscore}{\kern0pt}product\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ measure\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ kernel\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ measure{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{infixr}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymOtimes}\isactrlsub S{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isadigit{7}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeyword{where}\ {\isachardoublequoteopen}M\ {\isasymOtimes}\isactrlsub S\ K\ {\isacharequal}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}emeasure{\isacharunderscore}{\kern0pt}kernel\ M\ M\ {\isasymOtimes}\isactrlsub P\ K{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SOME\ {\isasymomega}{\isachardot}{\kern0pt}\ {\isasymomega}\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%EndSnippet
\isacommand{lemma}\isamarkupfalse%
\ space{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}semidirect{\isacharunderscore}{\kern0pt}product{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}space\ {\isacharparenleft}{\kern0pt}M\ {\isasymOtimes}\isactrlsub S\ K{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}space\ M\ {\isasymtimes}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}semidirect{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ space{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sets{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}semidirect{\isacharunderscore}{\kern0pt}product{\isacharbrackleft}{\kern0pt}measurable{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sets\ {\isacharparenleft}{\kern0pt}M\ {\isasymOtimes}\isactrlsub S\ K{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sets\ {\isacharparenleft}{\kern0pt}M\ {\isasymOtimes}\isactrlsub M\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}semidirect{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}semidirect{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}measurable{\isacharbrackleft}{\kern0pt}measurable{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ \isanewline
\ \ {\isachardoublequoteopen}f\ {\isasymin}\ M\ {\isasymOtimes}\isactrlsub M\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\isactrlsub M\ M{\isacharprime}{\kern0pt}\ {\isasymlongleftrightarrow}\ f\ {\isasymin}\ M\ {\isasymOtimes}\isactrlsub S\ K\ {\isasymrightarrow}\isactrlsub M\ M{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ measurable{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}sets{\isacharbrackleft}{\kern0pt}OF\ sets{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}semidirect{\isacharunderscore}{\kern0pt}product{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{locale}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}kernel\ {\isacharequal}{\kern0pt}\ K{\isacharquery}{\kern0pt}{\isacharcolon}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}kernel\ K\ {\isacharplus}{\kern0pt}\ M{\isacharquery}{\kern0pt}{\isacharcolon}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}measure\ M\isanewline
\ \ \isakeyword{for}\ K\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ kernel{\isachardoublequoteclose}\ \isakeyword{and}\ M\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ measure{\isachardoublequoteclose}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ sets{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sets\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ nonempty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}space\ M\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isakeyword{begin}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ space{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ K{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ space\ M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fact\ sets{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ sets{\isacharunderscore}{\kern0pt}eq{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\DefineSnippet{emeasure_semidirect_product}{
\isacommand{lemma}\isamarkupfalse%
\ emeasure{\isacharunderscore}{\kern0pt}semidirect{\isacharunderscore}{\kern0pt}product{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}A\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}M\ {\isasymOtimes}\isactrlsub S\ K{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}emeasure\ {\isacharparenleft}{\kern0pt}M\ {\isasymOtimes}\isactrlsub S\ K{\isacharparenright}{\kern0pt}\ A\ {\isacharequal}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ indicator\ A\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K\ {\isasymomega}\isactrlsub {\isadigit{1}}\ {\isasympartial}M{\isachardoublequoteclose}%
}%EndSnippet
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}semidirect{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}emeasure{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ kernel{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}apply{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ emeasure{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}finite\ finite{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}axioms\ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}axioms\ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sets{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ nonempty\ some{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}eq\ space{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sets{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}semidirect{\isacharunderscore}{\kern0pt}product{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ nonempty\ some{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}eq\ space{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ emeasure{\isacharunderscore}{\kern0pt}times{\isacharunderscore}{\kern0pt}semidirect{\isacharunderscore}{\kern0pt}product{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}A\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}B\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}emeasure\ {\isacharparenleft}{\kern0pt}M\ {\isasymOtimes}\isactrlsub S\ K{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}A\ {\isasymtimes}\ B{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}\ {\isasymin}\ A{\isachardot}{\kern0pt}\ K\ {\isasymomega}\isactrlsub {\isadigit{1}}\ B\ {\isasympartial}M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ emeasure{\isacharunderscore}{\kern0pt}semidirect{\isacharunderscore}{\kern0pt}product{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ sets{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}semidirect{\isacharunderscore}{\kern0pt}product\ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ indicator{\isacharunderscore}{\kern0pt}times\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ mult{\isachardot}{\kern0pt}commute\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cmult{\isacharunderscore}{\kern0pt}indicator{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\DefineSnippet{kernel_Fubini}{
\isacommand{lemma}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}Fubini{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharbrackleft}{\kern0pt}measurable{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isasymin}\ borel{\isacharunderscore}{\kern0pt}measurable\ {\isacharparenleft}{\kern0pt}M\ {\isasymOtimes}\isactrlsub M\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}{\isachardot}{\kern0pt}\ f\ {\isasymomega}\ {\isasympartial}{\isacharparenleft}{\kern0pt}M\ {\isasymOtimes}\isactrlsub S\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ f\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasympartial}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%EndSnippet
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ f\ \isacommand{proof}\isamarkupfalse%
\ induct\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cong\ f\ g{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}integral\isactrlsup N\ {\isacharparenleft}{\kern0pt}M\ {\isasymOtimes}\isactrlsub S\ K{\isacharparenright}{\kern0pt}\ f\ {\isacharequal}{\kern0pt}\ integral\isactrlsup N\ {\isacharparenleft}{\kern0pt}M\ {\isasymOtimes}\isactrlsub S\ K{\isacharparenright}{\kern0pt}\ g{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cong{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ space{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure\ cong{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ f\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K\ {\isasymomega}\isactrlsub {\isadigit{1}}\ {\isasympartial}M{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ g\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K\ {\isasymomega}\isactrlsub {\isadigit{1}}\ {\isasympartial}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cong{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ space{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cong{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ argo\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}set\ A{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ emeasure{\isacharunderscore}{\kern0pt}semidirect{\isacharunderscore}{\kern0pt}product\ sets{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}semidirect{\isacharunderscore}{\kern0pt}product{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}mult\ u\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ L{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}{\isachardot}{\kern0pt}\ v\ {\isacharasterisk}{\kern0pt}\ u\ {\isasymomega}\ {\isasympartial}{\isacharparenleft}{\kern0pt}M\ {\isasymOtimes}\isactrlsub S\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ v\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}{\isachardot}{\kern0pt}\ u\ {\isasymomega}\ {\isasympartial}{\isacharparenleft}{\kern0pt}M\ {\isasymOtimes}\isactrlsub S\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cmult\ kernel{\isacharunderscore}{\kern0pt}semidirect{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}measurable\ mult{\isachardot}{\kern0pt}hyps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ v\ {\isacharasterisk}{\kern0pt}\ u\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K\ {\isasymomega}\isactrlsub {\isadigit{1}}\ {\isasympartial}M{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ v\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ u\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasympartial}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cmult{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ mult{\isachardot}{\kern0pt}hyps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ measurable{\isacharunderscore}{\kern0pt}Pair{\isadigit{2}}\ measurable{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}measure{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ v\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ u\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K\ {\isasymomega}\isactrlsub {\isadigit{1}}\ {\isasympartial}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cmult{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ mult{\isachardot}{\kern0pt}hyps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ sets{\isacharunderscore}{\kern0pt}eq\ finite{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}axioms\ \isacommand{by}\isamarkupfalse%
\ measurable\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ L\ mult{\isachardot}{\kern0pt}hyps{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ argo\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}add\ u\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ L{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}{\isachardot}{\kern0pt}\ v\ {\isasymomega}\ {\isacharplus}{\kern0pt}\ u\ {\isasymomega}\ {\isasympartial}{\isacharparenleft}{\kern0pt}M\ {\isasymOtimes}\isactrlsub S\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}{\isachardot}{\kern0pt}\ v\ {\isasymomega}\ {\isasympartial}{\isacharparenleft}{\kern0pt}M\ {\isasymOtimes}\isactrlsub S\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}{\isachardot}{\kern0pt}\ u\ {\isasymomega}\ {\isasympartial}{\isacharparenleft}{\kern0pt}M\ {\isasymOtimes}\isactrlsub S\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}add\ kernel{\isacharunderscore}{\kern0pt}semidirect{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}measurable\ add{\isachardot}{\kern0pt}hyps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ v\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ u\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K\ {\isasymomega}\isactrlsub {\isadigit{1}}\ {\isasympartial}M{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ v\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ u\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasympartial}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}add{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ add{\isachardot}{\kern0pt}hyps{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ measurable{\isacharunderscore}{\kern0pt}Pair{\isadigit{2}}\ measurable{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}measure{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ add{\isachardot}{\kern0pt}hyps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ measurable{\isacharunderscore}{\kern0pt}Pair{\isadigit{2}}\ measurable{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}measure{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ v\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K\ {\isasymomega}\isactrlsub {\isadigit{1}}\ {\isasympartial}M{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ u\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K\ {\isasymomega}\isactrlsub {\isadigit{1}}\ {\isasympartial}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}add{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ add{\isachardot}{\kern0pt}hyps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ sets{\isacharunderscore}{\kern0pt}eq\ finite{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}axioms\ \isacommand{by}\isamarkupfalse%
\ measurable\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ L\ add{\isachardot}{\kern0pt}hyps{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ argo\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}seq\ U{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}{\kern0pt}\ U\ i\ {\isasymin}\ borel{\isacharunderscore}{\kern0pt}measurable\ {\isacharparenleft}{\kern0pt}M\ {\isasymOtimes}\isactrlsub S\ K{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}semidirect{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}measurable\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}integral\isactrlsup N\ {\isacharparenleft}{\kern0pt}M\ {\isasymOtimes}\isactrlsub S\ K{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSqunion}\ range\ U{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ x{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSqunion}i{\isachardot}{\kern0pt}\ U\ i\ x{\isacharparenright}{\kern0pt}\ {\isasympartial}{\isacharparenleft}{\kern0pt}M\ {\isasymOtimes}\isactrlsub S\ K{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cong\ SUP{\isacharunderscore}{\kern0pt}apply{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ L{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}integral\isactrlsup N\ {\isacharparenleft}{\kern0pt}M\ {\isasymOtimes}\isactrlsub S\ K{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSqunion}\ range\ U{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSqunion}i{\isachardot}{\kern0pt}\ integral\isactrlsup N\ {\isacharparenleft}{\kern0pt}M\ {\isasymOtimes}\isactrlsub S\ K{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}U\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}monotone{\isacharunderscore}{\kern0pt}convergence{\isacharunderscore}{\kern0pt}SUP{\isacharbrackleft}{\kern0pt}OF\ seq{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ {\isadigit{1}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSqunion}\ range\ U{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K\ {\isasymomega}\isactrlsub {\isadigit{1}}\ {\isasympartial}M{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSqunion}i{\isachardot}{\kern0pt}\ U\ i\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K\ {\isasymomega}\isactrlsub {\isadigit{1}}\ {\isasympartial}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ SUP{\isacharunderscore}{\kern0pt}apply{\isacharcomma}{\kern0pt}\ argo{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSqunion}i{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ U\ i\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasympartial}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}monotone{\isacharunderscore}{\kern0pt}convergence{\isacharunderscore}{\kern0pt}SUP{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ seq{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ mono{\isacharunderscore}{\kern0pt}compose\ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ measurable{\isacharunderscore}{\kern0pt}Pair{\isadigit{2}}\ measurable{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}measure\ seq{\isachardot}{\kern0pt}hyps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSqunion}i{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{1}}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isachardot}{\kern0pt}\ U\ i\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isasymomega}\isactrlsub {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ K\ {\isasymomega}\isactrlsub {\isadigit{1}}\ {\isasympartial}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}monotone{\isacharunderscore}{\kern0pt}convergence{\isacharunderscore}{\kern0pt}SUP{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ seq{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ incseq{\isacharunderscore}{\kern0pt}def\ le{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}def\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ measurable\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ seq{\isachardot}{\kern0pt}hyps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ sets{\isacharunderscore}{\kern0pt}eq\ finite{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}axioms\ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ L\ seq{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{end}\isamarkupfalse%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Finite product kernel%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
Given a finite collection of kernels K \<in> I ` {0..n} -> kernel, we define the finite product
  kernel PiK n I K as the iterated integral over each kernel in the collection in order.%
\end{isamarkuptext}\isamarkuptrue%
%
\DefineSnippet{PiK}{
\isacommand{primrec}\isamarkupfalse%
\ PiK\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}i\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ kernel{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}i\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ kernel{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
{\isachardoublequoteopen}PiK\ {\isadigit{0}}\ I\ K\ {\isacharequal}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}PiM\ {\isacharbraceleft}{\kern0pt}I\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ {\isasymomega}\ A{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymomega}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isasymin}{\isacharbraceleft}{\kern0pt}I\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ A{\isacharprime}{\kern0pt}\ {\isasyminter}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
{\isachardoublequoteopen}PiK\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ I\ K\ {\isacharequal}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}PiM\ {\isacharparenleft}{\kern0pt}I\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}Suc\ n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}\ A{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub f{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}{\isachardot}{\kern0pt}\ indicator\ A{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub f\ {\isacharparenleft}{\kern0pt}I\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}{\isasymomega}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub f\ {\isacharparenleft}{\kern0pt}I\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}\ {\isasymomega}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%EndSnippet
\isacommand{lemma}\isamarkupfalse%
\ PiK{\isacharunderscore}{\kern0pt}source{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}kernel{\isacharunderscore}{\kern0pt}source\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}source\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ n{\isacharsemicolon}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ PiK{\isacharunderscore}{\kern0pt}target{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ PiM\ {\isacharparenleft}{\kern0pt}I\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ n{\isacharsemicolon}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ transition{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}PiK{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ K\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}i\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ kernel{\isachardoublequoteclose}\ \isakeyword{and}\ I\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}i{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}transition{\isacharunderscore}{\kern0pt}kernel\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}PiM\ {\isacharbraceleft}{\kern0pt}I\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ {\isasymomega}\ A{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymomega}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isasymin}{\isacharbraceleft}{\kern0pt}I\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ A{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ transition{\isacharunderscore}{\kern0pt}kernel{\isachardot}{\kern0pt}intro{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ A{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ measurable\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ {\isadigit{1}}\ sets{\isacharunderscore}{\kern0pt}PiM{\isacharunderscore}{\kern0pt}cong\ singletonD{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isasymomega}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}countably{\isacharunderscore}{\kern0pt}additive\ {\isacharparenleft}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymomega}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ kernel{\isachardot}{\kern0pt}countably{\isacharunderscore}{\kern0pt}additive{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}A{\isachardot}{\kern0pt}\ {\isasymlbrakk}range\ A\ {\isasymsubseteq}\ {\isacharparenleft}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ disjoint{\isacharunderscore}{\kern0pt}family\ A{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}i{\isachardot}{\kern0pt}\ A\ i{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymrbrakk}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymomega}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}A\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymomega}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}i{\isachardot}{\kern0pt}\ A\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ countably{\isacharunderscore}{\kern0pt}additive{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}countably{\isacharunderscore}{\kern0pt}additive\ {\isacharparenleft}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}Pi\isactrlsub M\ {\isacharbraceleft}{\kern0pt}I\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}A{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ kernel\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymomega}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymlambda}n{\isasymin}{\isacharbraceleft}{\kern0pt}I\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ A{\isacharprime}{\kern0pt}\ {\isasyminter}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ countably{\isacharunderscore}{\kern0pt}additiveI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}i\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ set{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}range\ A\ {\isasymsubseteq}\ sets\ {\isacharparenleft}{\kern0pt}Pi\isactrlsub M\ {\isacharbraceleft}{\kern0pt}I\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}disjoint{\isacharunderscore}{\kern0pt}family\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymUnion}\ {\isacharparenleft}{\kern0pt}range\ A{\isacharparenright}{\kern0pt}\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}Pi\isactrlsub M\ {\isacharbraceleft}{\kern0pt}I\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ range{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}range\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymlambda}n{\isasymin}{\isacharbraceleft}{\kern0pt}I\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ A\ i\ {\isasyminter}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}erule\ rangeE{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ measurable\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}\ A{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ range{\isacharunderscore}{\kern0pt}subsetD\ sets{\isacharunderscore}{\kern0pt}PiM{\isacharunderscore}{\kern0pt}cong\ singletonD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}disjoint{\isacharunderscore}{\kern0pt}family\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymlambda}n{\isasymin}{\isacharbraceleft}{\kern0pt}I\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ A\ i\ {\isasyminter}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymUnion}i{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymlambda}n{\isasymin}{\isacharbraceleft}{\kern0pt}I\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ A\ i\ {\isasyminter}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ range\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}i{\isachardot}{\kern0pt}\ kernel\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymomega}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymlambda}n{\isasymin}{\isacharbraceleft}{\kern0pt}I\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ A\ i\ {\isasyminter}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ kernel\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymomega}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}\ {\isacharparenleft}{\kern0pt}range\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymlambda}n{\isasymin}{\isacharbraceleft}{\kern0pt}I\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}A\ n{\isacharparenright}{\kern0pt}\ {\isasyminter}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ {\isacharasterisk}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ kernel\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymomega}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymlambda}n{\isasymin}{\isacharbraceleft}{\kern0pt}I\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isasymUnion}\ {\isacharparenleft}{\kern0pt}range\ A{\isacharparenright}{\kern0pt}\ {\isasyminter}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ vimage{\isacharunderscore}{\kern0pt}Union{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}i{\isachardot}{\kern0pt}\ kernel\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymomega}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymlambda}n{\isasymin}{\isacharbraceleft}{\kern0pt}I\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ A\ i\ {\isasyminter}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ kernel\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymomega}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymlambda}n{\isasymin}{\isacharbraceleft}{\kern0pt}I\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isasymUnion}\ {\isacharparenleft}{\kern0pt}range\ A{\isacharparenright}{\kern0pt}\ {\isasyminter}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ measure{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}def\ positive{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ del{\isacharunderscore}{\kern0pt}insts{\isacharparenright}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}empty\ sets{\isachardot}{\kern0pt}Int{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}eq{\isadigit{2}}\ sets{\isachardot}{\kern0pt}empty{\isacharunderscore}{\kern0pt}sets\ \isanewline
\ \ \ \ \ \ \ \ sets{\isachardot}{\kern0pt}sigma{\isacharunderscore}{\kern0pt}algebra{\isacharunderscore}{\kern0pt}axioms\ sets{\isacharunderscore}{\kern0pt}PiM{\isacharunderscore}{\kern0pt}cong\ singletonD\ vimage{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ transition{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}PiK{\isacharunderscore}{\kern0pt}Suc{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ K\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}i\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ kernel{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}kernel\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}kernel\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ source{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}target{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}source\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}transition{\isacharunderscore}{\kern0pt}kernel\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}PiK\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ I\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}\ A{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub f{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}{\isachardot}{\kern0pt}\ indicator\ A{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub f\ {\isacharparenleft}{\kern0pt}I\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}{\isasymomega}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub f\ {\isacharparenleft}{\kern0pt}I\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}\ {\isasymomega}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}transition{\isacharunderscore}{\kern0pt}kernel\ {\isacharquery}{\kern0pt}M\ {\isacharquery}{\kern0pt}N{\isacharprime}{\kern0pt}\ {\isacharquery}{\kern0pt}{\isasymkappa}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}K\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlambda}n{\isachardot}{\kern0pt}\ K\ {\isacharparenleft}{\kern0pt}I\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}{\isachardot}{\kern0pt}\ {\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\ {\isacharparenleft}{\kern0pt}I\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymomega}\isactrlsub f\ A{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub f\ {\isacharparenleft}{\kern0pt}I\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ A{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}{\isasymomega}\isactrlsub f\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ {\isasymomega}\isactrlsub f\ A{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}A{\isacharprime}{\kern0pt}\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ kernel{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}of{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ that{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ transition{\isacharunderscore}{\kern0pt}kernel{\isachardot}{\kern0pt}intro{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ measurable\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ atLeast{\isadigit{0}}AtMost\ atMost{\isacharunderscore}{\kern0pt}iff\ dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff\ image{\isacharunderscore}{\kern0pt}eqI\ measurable{\isacharunderscore}{\kern0pt}component{\isacharunderscore}{\kern0pt}singleton\ source{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}target{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}emeasure\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}sets\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}space\ measure{\isacharunderscore}{\kern0pt}space{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}{\isachardot}{\kern0pt}\ {\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\ {\isacharparenleft}{\kern0pt}I\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymomega}\isactrlsub f\ {\isacharequal}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub f\ {\isacharparenleft}{\kern0pt}I\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}{\isasymomega}\isactrlsub f\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ {\isasymomega}\isactrlsub f\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}altdef{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ measure{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sets{\isachardot}{\kern0pt}space{\isacharunderscore}{\kern0pt}closed{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sets{\isachardot}{\kern0pt}sigma{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ kernel{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}of{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ space{\isacharunderscore}{\kern0pt}PiM{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ transition{\isacharunderscore}{\kern0pt}kernel{\isachardot}{\kern0pt}intro{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ measurable\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ atLeast{\isadigit{0}}AtMost\ atMost{\isacharunderscore}{\kern0pt}iff\ dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff\ image{\isacharunderscore}{\kern0pt}eqI\ measurable{\isacharunderscore}{\kern0pt}component{\isacharunderscore}{\kern0pt}singleton\ source{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}target{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}emeasure\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}sets\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}space\ measure{\isacharunderscore}{\kern0pt}space{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub f{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}{\isachardot}{\kern0pt}\ indicator\ A{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub f{\isacharcomma}{\kern0pt}\ {\isasymomega}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub f\ {\isacharparenleft}{\kern0pt}I\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}\ {\isasymomega}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub f{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}{\isachardot}{\kern0pt}\ indicator\ A{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub f{\isacharcomma}{\kern0pt}\ {\isasymomega}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}{\isachardot}{\kern0pt}\ {\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\ {\isacharparenleft}{\kern0pt}I\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymomega}\isactrlsub f{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}\ {\isasymomega}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ {\isasymomega}\ A{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}{\isasymomega}\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}\ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardoublequoteclose}\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}space\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}{\isachardot}{\kern0pt}\ kernel\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\ {\isacharparenleft}{\kern0pt}I\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}transition{\isacharunderscore}{\kern0pt}kernel\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}\ {\isasymOtimes}\isactrlsub M\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}\ A{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub f{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}{\isachardot}{\kern0pt}\ indicator\ A{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub f{\isacharcomma}{\kern0pt}\ {\isasymomega}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub f\ {\isacharparenleft}{\kern0pt}I\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}\ {\isasymomega}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ {\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ {\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ kernel{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}transition{\isacharunderscore}{\kern0pt}kernel{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}PiK\ n\ I\ K{\isachardoublequoteclose}\ {\isachardoublequoteopen}kernel{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}{\isachardot}{\kern0pt}\ {\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\ {\isacharparenleft}{\kern0pt}I\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite\ \isacommand{apply}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ finite{\isacharunderscore}{\kern0pt}kernelI\ finite{\isacharunderscore}{\kern0pt}measureI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardoublequoteclose}\ PiK{\isacharunderscore}{\kern0pt}target\ PiM{\isacharunderscore}{\kern0pt}cong\ finite{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}finite\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}emeasure{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}transition{\isacharunderscore}{\kern0pt}kernel\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}PiK\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ I\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}\ A{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub f{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}{\isachardot}{\kern0pt}\ indicator\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ f{\isacharparenleft}{\kern0pt}I\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ A{\isacharprime}{\kern0pt}\ {\isasyminter}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}\ {\isasymOtimes}\isactrlsub M\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub f{\isacharcomma}{\kern0pt}\ {\isasymomega}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub f\ {\isacharparenleft}{\kern0pt}I\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}\ {\isasymomega}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ transition{\isacharunderscore}{\kern0pt}kernel{\isachardot}{\kern0pt}transition{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}distr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ atLeast{\isadigit{0}}{\isacharunderscore}{\kern0pt}atMost{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ measurable\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}transition{\isacharunderscore}{\kern0pt}kernel\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}PiK\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ I\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}\ A{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub f{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}{\isachardot}{\kern0pt}\ indicator\ A{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub f\ {\isacharparenleft}{\kern0pt}I\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ {\isasymomega}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub f\ {\isacharparenleft}{\kern0pt}I\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}\ {\isasymomega}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ transition{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ g{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymomega}\ A{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub f{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}{\isachardot}{\kern0pt}\ indicator\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ f{\isacharparenleft}{\kern0pt}I\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ A{\isacharprime}{\kern0pt}\ {\isasyminter}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}\ {\isasymOtimes}\isactrlsub M\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub f{\isacharcomma}{\kern0pt}\ {\isasymomega}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub f\ {\isacharparenleft}{\kern0pt}I\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}\ {\isasymomega}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ Int{\isacharunderscore}{\kern0pt}iff\ case{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}conv\ indicator{\isacharunderscore}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ indicator{\isacharunderscore}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}space\ mem{\isacharunderscore}{\kern0pt}Sigma{\isacharunderscore}{\kern0pt}iff\ space{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}measure\ vimage{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ PiK{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymomega}\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}A{\isacharprime}{\kern0pt}\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}PiM\ {\isacharbraceleft}{\kern0pt}I\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}PiK\ {\isadigit{0}}\ I\ K\ {\isasymomega}\ A{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymomega}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isasymin}{\isacharbraceleft}{\kern0pt}I\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ A{\isacharprime}{\kern0pt}\ {\isasyminter}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ kernel{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}of{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{apply}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ transition{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}PiK{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharbrackleft}{\kern0pt}of\ K\ I{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ PiM{\isacharunderscore}{\kern0pt}cong\ singletonD\ transition{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}PiK{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ transition{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}cong\ vimage{\isacharunderscore}{\kern0pt}inter{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ PiK{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}Suc{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}kernel\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}kernel\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}source\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymomega}\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}source\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}A{\isacharprime}{\kern0pt}\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}PiM\ {\isacharparenleft}{\kern0pt}I\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}Suc\ n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}PiK\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ I\ K\ {\isasymomega}\ A{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}\isactrlsub f{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}{\isasymomega}{\isachardot}{\kern0pt}\ indicator\ A{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub f\ {\isacharparenleft}{\kern0pt}I{\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}{\isasymomega}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymomega}\isactrlsub f\ {\isacharparenleft}{\kern0pt}I\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasympartial}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}\ {\isasymomega}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ transition{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}PiK{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ transition{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}PiK{\isacharunderscore}{\kern0pt}Suc{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ PiK{\isacharunderscore}{\kern0pt}stochastic{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymAnd}k{\isachardot}{\kern0pt}\ k\ {\isasymle}\ n\ {\isasymLongrightarrow}\ stochastic{\isacharunderscore}{\kern0pt}kernel\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymAnd}k{\isachardot}{\kern0pt}\ k\ {\isacharless}{\kern0pt}\ n\ {\isasymLongrightarrow}\ kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}source\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}stochastic{\isacharunderscore}{\kern0pt}kernel\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymlambda}n{\isasymin}{\isacharbraceleft}{\kern0pt}I\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ space\ {\isacharparenleft}{\kern0pt}Pi\isactrlsub M\ {\isacharbraceleft}{\kern0pt}I\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ space{\isacharunderscore}{\kern0pt}PiM{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ stochastic{\isacharunderscore}{\kern0pt}kernelI\ prob{\isacharunderscore}{\kern0pt}spaceI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}emeasure{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ PiK{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ PiK{\isacharunderscore}{\kern0pt}source{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}SIG{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{0}}{\isachardoublequoteclose}\ Int{\isacharunderscore}{\kern0pt}absorb{\isadigit{2}}\ less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}nat{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ restrict{\isacharunderscore}{\kern0pt}PiE{\isacharunderscore}{\kern0pt}iff\ singletonD\ \isanewline
\ \ \ \ \ \ \ \ space{\isacharunderscore}{\kern0pt}PiM\ stochastic{\isacharunderscore}{\kern0pt}kernel{\isachardot}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ subset{\isacharunderscore}{\kern0pt}antisym\ subset{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ stochastic{\isacharunderscore}{\kern0pt}kernelI\ prob{\isacharunderscore}{\kern0pt}spaceI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ kernel{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}emeasure{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ PiK{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Suc\ stochastic{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}def\ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Suc{\isachardot}{\kern0pt}prems\ stochastic{\isacharunderscore}{\kern0pt}kernel{\isachardot}{\kern0pt}axioms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Suc{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ space{\isacharunderscore}{\kern0pt}PiM{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ v{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ v{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ indicator{\isacharunderscore}{\kern0pt}def\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ space{\isacharunderscore}{\kern0pt}PiM{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ PiE{\isacharunderscore}{\kern0pt}iff\ atLeast{\isadigit{0}}AtMost\ atMost{\isacharunderscore}{\kern0pt}iff\ image{\isacharunderscore}{\kern0pt}eqI\ le{\isacharunderscore}{\kern0pt}SucE{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ PiE{\isacharunderscore}{\kern0pt}arb\ \isacommand{apply}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ PiE{\isacharunderscore}{\kern0pt}iff\ Suc{\isachardot}{\kern0pt}prems\ stochastic{\isacharunderscore}{\kern0pt}kernel{\isachardot}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Suc\ PiK{\isacharunderscore}{\kern0pt}source\ PiK{\isacharunderscore}{\kern0pt}target\ le{\isacharunderscore}{\kern0pt}SucI\ less{\isacharunderscore}{\kern0pt}SucI\ space{\isacharunderscore}{\kern0pt}PiM\ stochastic{\isacharunderscore}{\kern0pt}kernel{\isachardot}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}PiK{\isacharunderscore}{\kern0pt}list\ l\ K\ {\isasymequiv}\ PiK\ {\isacharparenleft}{\kern0pt}length\ l\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ l{\isacharbang}{\kern0pt}n{\isacharparenright}{\kern0pt}\ K{\isachardoublequoteclose}%
\begin{isamarkuptext}%
Klenke theorem 14.31%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}borel{\isacharbrackleft}{\kern0pt}measurable{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ real{\isacharunderscore}{\kern0pt}normed{\isacharunderscore}{\kern0pt}vector{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}A{\isacharprime}{\kern0pt}\ {\isasymin}\ sets\ borel\ {\isasymLongrightarrow}\ {\isacharbraceleft}{\kern0pt}a{\isachardot}{\kern0pt}\ a\ {\isacharplus}{\kern0pt}\ x\ {\isasymin}\ A{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ borel{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ \ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ measurable\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ pred{\isacharunderscore}{\kern0pt}sets{\isadigit{2}}{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ N{\isacharequal}{\kern0pt}borel{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ borel{\isacharunderscore}{\kern0pt}measurable{\isacharunderscore}{\kern0pt}const{\isacharunderscore}{\kern0pt}add{\isacharbrackleft}{\kern0pt}of\ id\ borel\ x{\isacharbrackright}{\kern0pt}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ add{\isachardot}{\kern0pt}commute\ measurable{\isacharunderscore}{\kern0pt}ident{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ prob{\isacharunderscore}{\kern0pt}space{\isacharparenright}{\kern0pt}\ conv{\isacharunderscore}{\kern0pt}distr{\isacharunderscore}{\kern0pt}kernel{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isacharbrackleft}{\kern0pt}measurable{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymin}\ borel{\isacharunderscore}{\kern0pt}measurable\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}transition{\isacharunderscore}{\kern0pt}kernel\ borel\ borel\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x\ A{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}return\ borel\ x{\isacharparenright}{\kern0pt}\ {\isasymstar}\ {\isacharparenleft}{\kern0pt}distr\ M\ borel\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ A{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ transition{\isacharunderscore}{\kern0pt}kernel{\isachardot}{\kern0pt}intro{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ convolution{\isacharunderscore}{\kern0pt}emeasure{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ prob{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}return{\isacharbrackleft}{\kern0pt}THEN\ prob{\isacharunderscore}{\kern0pt}space{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}measure{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ measurable\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ finite{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}distr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}return{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ emeasure{\isacharunderscore}{\kern0pt}distr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ measurable\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ pred{\isacharunderscore}{\kern0pt}sets{\isadigit{2}}{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ N{\isacharequal}{\kern0pt}borel{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ measurable\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ emeasure{\isacharunderscore}{\kern0pt}distr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}borel{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ measurable\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ pred{\isacharunderscore}{\kern0pt}sets{\isadigit{2}}{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ N{\isacharequal}{\kern0pt}borel{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ measurable\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ measure{\isacharunderscore}{\kern0pt}space\ sets{\isacharunderscore}{\kern0pt}convolution\ space{\isacharunderscore}{\kern0pt}borel\ space{\isacharunderscore}{\kern0pt}convolution{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\DefineSnippet{kernel_product_convolution}{
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ prob{\isacharunderscore}{\kern0pt}space{\isacharparenright}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}convolution{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ X\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ linorder{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}b\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ ordered{\isacharunderscore}{\kern0pt}euclidean{\isacharunderscore}{\kern0pt}space{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ I\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}i{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}indep{\isacharunderscore}{\kern0pt}vars\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ borel{\isacharparenright}{\kern0pt}\ X\ {\isacharparenleft}{\kern0pt}I\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharparenleft}{\kern0pt}n{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{defines}\ {\isachardoublequoteopen}S\ {\isasymequiv}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}k\ {\isasymomega}{\isachardot}{\kern0pt}\ {\isasymSum}j\ {\isasymin}\ {\isacharparenleft}{\kern0pt}I{\isacharbackquote}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ X\ j\ {\isasymomega}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ {\isachardoublequoteopen}K\ {\isasymequiv}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}k{\isachardot}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}of\ borel\ borel\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x\ A{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}return\ borel\ x{\isacharparenright}{\kern0pt}\ {\isasymstar}\ {\isacharparenleft}{\kern0pt}distr\ M\ borel\ {\isacharparenleft}{\kern0pt}X\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ A{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}kernel{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymPi}\isactrlsub M\ t{\isasymin}I{\isacharbackquote}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ distr\ M\ borel\ {\isacharparenleft}{\kern0pt}X\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%EndSnippet
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}measurable{\isacharbrackleft}{\kern0pt}measurable{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}k{\isachardot}{\kern0pt}\ k\ {\isasymin}\ I\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ random{\isacharunderscore}{\kern0pt}variable\ borel\ {\isacharparenleft}{\kern0pt}X\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ indep{\isacharunderscore}{\kern0pt}vars{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}transition{\isacharunderscore}{\kern0pt}kernel\ borel\ borel\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x\ A{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}return\ borel\ x{\isacharparenright}{\kern0pt}\ {\isasymstar}\ {\isacharparenleft}{\kern0pt}distr\ M\ borel\ {\isacharparenleft}{\kern0pt}X\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ A{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}k\ {\isasymin}\ I\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ k\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ conv{\isacharunderscore}{\kern0pt}distr{\isacharunderscore}{\kern0pt}kernel\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ K{\isacharunderscore}{\kern0pt}apply{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}K\ k\ {\isasymomega}\ A{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}return\ borel\ {\isasymomega}{\isacharparenright}{\kern0pt}\ {\isasymstar}\ {\isacharparenleft}{\kern0pt}distr\ M\ borel\ {\isacharparenleft}{\kern0pt}X\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ A{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}k\ {\isasymin}\ I\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}A{\isacharprime}{\kern0pt}\ {\isasymin}\ sets\ borel{\isachardoublequoteclose}\ \isakeyword{for}\ k\ A{\isacharprime}{\kern0pt}\ {\isasymomega}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ K{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ that\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}k{\isachardot}{\kern0pt}\ k\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ stochastic{\isacharunderscore}{\kern0pt}kernel\ {\isacharparenleft}{\kern0pt}K\ {\isacharparenleft}{\kern0pt}I\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ stochastic{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}altI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ K{\isacharunderscore}{\kern0pt}apply{\isacharsemicolon}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ K{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ convolution{\isacharunderscore}{\kern0pt}emeasure{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ prob{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}return{\isacharbrackleft}{\kern0pt}THEN\ prob{\isacharunderscore}{\kern0pt}space{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}measure{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ finite{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}distr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ atLeastAtMost{\isacharunderscore}{\kern0pt}iff\ \ prob{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}distr{\isacharbrackleft}{\kern0pt}OF\ X{\isacharunderscore}{\kern0pt}measurable{\isacharbrackright}{\kern0pt}\ prob{\isacharunderscore}{\kern0pt}space{\isachardot}{\kern0pt}emeasure{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ imageI\ less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}nat{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ space{\isacharunderscore}{\kern0pt}borel\ space{\isacharunderscore}{\kern0pt}distr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ stochastic{\isacharunderscore}{\kern0pt}K{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}stochastic{\isacharunderscore}{\kern0pt}kernel\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ PiK{\isacharunderscore}{\kern0pt}stochastic{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ K{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ PiK{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}\ {\isadigit{0}}\ {\isacharparenleft}{\kern0pt}I{\isacharbackquote}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}\ {\isasymrightarrow}\isactrlsub E\ UNIV{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}I{\isacharbackquote}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}\ {\isasymrightarrow}\isactrlsub E\ UNIV\ {\isacharequal}{\kern0pt}\ space\ {\isacharparenleft}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}target\ {\isacharparenleft}{\kern0pt}PiK\ n\ I\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ space{\isacharunderscore}{\kern0pt}PiM\ K{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ only{\isacharcolon}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ stochastic{\isacharunderscore}{\kern0pt}kernel{\isachardot}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharbrackleft}{\kern0pt}OF\ stochastic{\isacharunderscore}{\kern0pt}K{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ K{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{oops}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=Kernel_Product.tex%:%
%:%10=1%:%
%:%11=1%:%
%:%12=2%:%
%:%13=3%:%
%:%22=5%:%
%:%25=7%:%
%:%26=8%:%
%:%27=8%:%
%:%28=9%:%
%:%30=11%:%
%:%31=13%:%
%:%32=13%:%
%:%35=14%:%
%:%39=14%:%
%:%40=14%:%
%:%41=14%:%
%:%46=14%:%
%:%49=15%:%
%:%50=16%:%
%:%51=16%:%
%:%54=17%:%
%:%58=17%:%
%:%59=17%:%
%:%60=17%:%
%:%68=19%:%
%:%69=20%:%
%:%70=20%:%
%:%71=21%:%
%:%73=23%:%
%:%74=25%:%
%:%75=25%:%
%:%78=26%:%
%:%82=26%:%
%:%83=26%:%
%:%84=26%:%
%:%89=26%:%
%:%92=27%:%
%:%93=28%:%
%:%94=28%:%
%:%97=29%:%
%:%101=29%:%
%:%102=29%:%
%:%103=29%:%
%:%108=29%:%
%:%111=30%:%
%:%112=31%:%
%:%113=31%:%
%:%114=32%:%
%:%115=33%:%
%:%116=34%:%
%:%123=35%:%
%:%124=35%:%
%:%125=36%:%
%:%126=36%:%
%:%127=37%:%
%:%128=37%:%
%:%129=37%:%
%:%130=38%:%
%:%131=38%:%
%:%132=38%:%
%:%133=39%:%
%:%134=40%:%
%:%135=40%:%
%:%136=41%:%
%:%137=41%:%
%:%138=42%:%
%:%139=42%:%
%:%140=42%:%
%:%141=43%:%
%:%142=43%:%
%:%143=44%:%
%:%144=44%:%
%:%145=45%:%
%:%146=45%:%
%:%147=46%:%
%:%148=46%:%
%:%149=46%:%
%:%150=46%:%
%:%151=47%:%
%:%152=47%:%
%:%153=48%:%
%:%154=48%:%
%:%155=49%:%
%:%156=49%:%
%:%157=49%:%
%:%158=50%:%
%:%159=50%:%
%:%160=51%:%
%:%161=51%:%
%:%162=51%:%
%:%163=52%:%
%:%164=52%:%
%:%165=52%:%
%:%166=53%:%
%:%167=53%:%
%:%168=53%:%
%:%169=54%:%
%:%170=55%:%
%:%171=56%:%
%:%172=56%:%
%:%173=57%:%
%:%174=57%:%
%:%175=58%:%
%:%176=58%:%
%:%177=59%:%
%:%178=59%:%
%:%179=60%:%
%:%180=60%:%
%:%181=60%:%
%:%182=61%:%
%:%183=61%:%
%:%184=62%:%
%:%185=62%:%
%:%186=62%:%
%:%187=63%:%
%:%188=63%:%
%:%189=63%:%
%:%190=64%:%
%:%191=64%:%
%:%192=64%:%
%:%193=65%:%
%:%194=66%:%
%:%195=66%:%
%:%196=67%:%
%:%197=67%:%
%:%198=68%:%
%:%208=70%:%
%:%211=72%:%
%:%212=73%:%
%:%213=73%:%
%:%214=74%:%
%:%215=75%:%
%:%216=76%:%
%:%217=77%:%
%:%218=78%:%
%:%219=79%:%
%:%220=80%:%
%:%227=81%:%
%:%228=81%:%
%:%229=82%:%
%:%230=82%:%
%:%231=83%:%
%:%232=83%:%
%:%233=84%:%
%:%234=84%:%
%:%235=85%:%
%:%236=85%:%
%:%237=86%:%
%:%238=86%:%
%:%239=87%:%
%:%240=87%:%
%:%241=87%:%
%:%242=88%:%
%:%243=88%:%
%:%244=88%:%
%:%245=89%:%
%:%246=89%:%
%:%247=90%:%
%:%248=90%:%
%:%249=90%:%
%:%250=91%:%
%:%251=91%:%
%:%252=91%:%
%:%253=92%:%
%:%254=92%:%
%:%255=92%:%
%:%256=93%:%
%:%257=93%:%
%:%258=94%:%
%:%259=94%:%
%:%260=95%:%
%:%261=95%:%
%:%262=95%:%
%:%263=96%:%
%:%264=96%:%
%:%265=97%:%
%:%266=97%:%
%:%267=97%:%
%:%268=98%:%
%:%269=98%:%
%:%270=99%:%
%:%271=99%:%
%:%272=99%:%
%:%273=100%:%
%:%274=100%:%
%:%275=100%:%
%:%276=101%:%
%:%277=101%:%
%:%278=101%:%
%:%279=102%:%
%:%280=102%:%
%:%281=102%:%
%:%282=103%:%
%:%283=103%:%
%:%284=103%:%
%:%285=104%:%
%:%286=104%:%
%:%287=104%:%
%:%288=105%:%
%:%289=105%:%
%:%290=106%:%
%:%291=106%:%
%:%292=107%:%
%:%293=107%:%
%:%294=107%:%
%:%295=108%:%
%:%296=108%:%
%:%297=108%:%
%:%298=109%:%
%:%299=109%:%
%:%300=110%:%
%:%301=110%:%
%:%302=111%:%
%:%303=111%:%
%:%304=111%:%
%:%305=111%:%
%:%306=112%:%
%:%307=112%:%
%:%308=113%:%
%:%309=113%:%
%:%310=114%:%
%:%311=114%:%
%:%312=115%:%
%:%313=115%:%
%:%314=115%:%
%:%315=116%:%
%:%316=116%:%
%:%317=116%:%
%:%318=117%:%
%:%319=117%:%
%:%320=117%:%
%:%321=118%:%
%:%322=118%:%
%:%323=118%:%
%:%324=119%:%
%:%325=119%:%
%:%326=120%:%
%:%327=120%:%
%:%328=120%:%
%:%329=121%:%
%:%330=121%:%
%:%331=122%:%
%:%332=122%:%
%:%333=122%:%
%:%334=123%:%
%:%335=124%:%
%:%336=124%:%
%:%337=124%:%
%:%338=125%:%
%:%339=125%:%
%:%340=126%:%
%:%341=126%:%
%:%342=126%:%
%:%343=127%:%
%:%344=127%:%
%:%345=128%:%
%:%346=128%:%
%:%347=128%:%
%:%348=129%:%
%:%349=129%:%
%:%350=129%:%
%:%351=130%:%
%:%352=130%:%
%:%353=130%:%
%:%354=131%:%
%:%355=131%:%
%:%356=132%:%
%:%357=132%:%
%:%358=133%:%
%:%359=133%:%
%:%360=134%:%
%:%361=134%:%
%:%362=135%:%
%:%363=135%:%
%:%364=136%:%
%:%365=136%:%
%:%366=136%:%
%:%367=136%:%
%:%368=137%:%
%:%369=137%:%
%:%370=137%:%
%:%371=138%:%
%:%372=138%:%
%:%373=139%:%
%:%374=139%:%
%:%375=139%:%
%:%376=140%:%
%:%377=140%:%
%:%378=140%:%
%:%379=141%:%
%:%380=141%:%
%:%381=142%:%
%:%382=142%:%
%:%383=143%:%
%:%384=143%:%
%:%385=144%:%
%:%386=144%:%
%:%387=145%:%
%:%388=145%:%
%:%389=146%:%
%:%390=146%:%
%:%391=147%:%
%:%392=147%:%
%:%393=148%:%
%:%394=148%:%
%:%395=148%:%
%:%396=149%:%
%:%397=149%:%
%:%398=149%:%
%:%399=150%:%
%:%400=150%:%
%:%401=150%:%
%:%402=151%:%
%:%403=151%:%
%:%404=151%:%
%:%405=152%:%
%:%406=152%:%
%:%407=152%:%
%:%408=152%:%
%:%409=153%:%
%:%410=153%:%
%:%411=153%:%
%:%412=154%:%
%:%413=154%:%
%:%414=154%:%
%:%415=155%:%
%:%416=155%:%
%:%417=156%:%
%:%418=156%:%
%:%419=156%:%
%:%420=156%:%
%:%421=157%:%
%:%422=157%:%
%:%423=158%:%
%:%424=158%:%
%:%425=158%:%
%:%426=158%:%
%:%427=159%:%
%:%428=159%:%
%:%429=160%:%
%:%430=160%:%
%:%431=160%:%
%:%432=161%:%
%:%433=161%:%
%:%434=162%:%
%:%435=162%:%
%:%436=163%:%
%:%437=163%:%
%:%438=164%:%
%:%439=164%:%
%:%440=164%:%
%:%441=164%:%
%:%442=165%:%
%:%443=165%:%
%:%444=165%:%
%:%445=166%:%
%:%446=166%:%
%:%447=166%:%
%:%448=167%:%
%:%449=167%:%
%:%450=168%:%
%:%451=168%:%
%:%452=169%:%
%:%453=169%:%
%:%454=169%:%
%:%455=170%:%
%:%456=170%:%
%:%457=171%:%
%:%467=173%:%
%:%470=175%:%
%:%471=176%:%
%:%472=176%:%
%:%473=177%:%
%:%474=178%:%
%:%475=179%:%
%:%476=180%:%
%:%477=181%:%
%:%478=182%:%
%:%479=183%:%
%:%480=184%:%
%:%487=185%:%
%:%488=185%:%
%:%489=186%:%
%:%490=186%:%
%:%491=187%:%
%:%492=188%:%
%:%493=189%:%
%:%494=190%:%
%:%495=190%:%
%:%496=191%:%
%:%497=191%:%
%:%498=192%:%
%:%499=193%:%
%:%500=193%:%
%:%501=193%:%
%:%502=194%:%
%:%503=194%:%
%:%504=195%:%
%:%505=195%:%
%:%506=196%:%
%:%507=196%:%
%:%508=196%:%
%:%509=196%:%
%:%510=197%:%
%:%511=197%:%
%:%512=197%:%
%:%513=198%:%
%:%514=198%:%
%:%515=199%:%
%:%516=199%:%
%:%517=200%:%
%:%518=200%:%
%:%519=201%:%
%:%520=201%:%
%:%521=201%:%
%:%522=202%:%
%:%523=202%:%
%:%524=203%:%
%:%525=203%:%
%:%526=203%:%
%:%527=204%:%
%:%528=204%:%
%:%529=205%:%
%:%530=205%:%
%:%531=206%:%
%:%532=206%:%
%:%533=207%:%
%:%534=207%:%
%:%535=207%:%
%:%536=208%:%
%:%537=208%:%
%:%538=209%:%
%:%539=209%:%
%:%540=210%:%
%:%541=210%:%
%:%542=211%:%
%:%543=211%:%
%:%544=212%:%
%:%545=213%:%
%:%546=213%:%
%:%547=214%:%
%:%548=215%:%
%:%549=215%:%
%:%550=216%:%
%:%551=216%:%
%:%552=216%:%
%:%553=217%:%
%:%554=217%:%
%:%555=218%:%
%:%556=218%:%
%:%557=219%:%
%:%558=219%:%
%:%559=220%:%
%:%560=220%:%
%:%561=220%:%
%:%562=220%:%
%:%563=221%:%
%:%564=221%:%
%:%565=222%:%
%:%566=222%:%
%:%567=222%:%
%:%568=223%:%
%:%569=223%:%
%:%570=224%:%
%:%571=224%:%
%:%572=225%:%
%:%573=225%:%
%:%574=226%:%
%:%575=226%:%
%:%576=226%:%
%:%577=227%:%
%:%578=227%:%
%:%579=227%:%
%:%580=228%:%
%:%581=229%:%
%:%582=229%:%
%:%583=229%:%
%:%584=230%:%
%:%585=230%:%
%:%586=231%:%
%:%587=231%:%
%:%588=231%:%
%:%589=232%:%
%:%590=232%:%
%:%591=233%:%
%:%592=233%:%
%:%593=234%:%
%:%594=234%:%
%:%595=234%:%
%:%596=235%:%
%:%597=235%:%
%:%598=235%:%
%:%599=236%:%
%:%600=237%:%
%:%601=237%:%
%:%602=238%:%
%:%603=238%:%
%:%604=238%:%
%:%605=239%:%
%:%606=239%:%
%:%607=240%:%
%:%608=240%:%
%:%609=240%:%
%:%610=240%:%
%:%611=241%:%
%:%612=241%:%
%:%613=241%:%
%:%614=242%:%
%:%615=243%:%
%:%616=243%:%
%:%617=244%:%
%:%618=244%:%
%:%619=244%:%
%:%620=245%:%
%:%621=245%:%
%:%622=245%:%
%:%623=246%:%
%:%624=246%:%
%:%625=247%:%
%:%626=247%:%
%:%627=247%:%
%:%628=248%:%
%:%629=248%:%
%:%630=249%:%
%:%631=249%:%
%:%632=250%:%
%:%633=250%:%
%:%634=250%:%
%:%635=251%:%
%:%636=252%:%
%:%637=252%:%
%:%638=253%:%
%:%639=253%:%
%:%640=254%:%
%:%641=254%:%
%:%642=254%:%
%:%643=255%:%
%:%644=255%:%
%:%645=255%:%
%:%646=256%:%
%:%647=256%:%
%:%648=256%:%
%:%649=257%:%
%:%650=257%:%
%:%651=257%:%
%:%652=258%:%
%:%660=258%:%
%:%661=259%:%
%:%662=260%:%
%:%663=260%:%
%:%664=261%:%
%:%665=262%:%
%:%666=263%:%
%:%667=264%:%
%:%670=265%:%
%:%674=265%:%
%:%675=265%:%
%:%676=266%:%
%:%677=266%:%
%:%678=267%:%
%:%679=267%:%
%:%684=267%:%
%:%687=268%:%
%:%688=269%:%
%:%689=269%:%
%:%690=270%:%
%:%691=271%:%
%:%692=272%:%
%:%693=273%:%
%:%694=274%:%
%:%695=275%:%
%:%702=276%:%
%:%703=276%:%
%:%704=277%:%
%:%705=277%:%
%:%706=278%:%
%:%707=279%:%
%:%708=280%:%
%:%709=280%:%
%:%710=281%:%
%:%711=281%:%
%:%712=282%:%
%:%713=282%:%
%:%714=283%:%
%:%715=283%:%
%:%716=284%:%
%:%717=284%:%
%:%718=285%:%
%:%719=285%:%
%:%720=286%:%
%:%721=286%:%
%:%722=287%:%
%:%723=287%:%
%:%724=288%:%
%:%725=288%:%
%:%726=289%:%
%:%727=289%:%
%:%728=290%:%
%:%729=290%:%
%:%730=291%:%
%:%731=291%:%
%:%732=292%:%
%:%733=293%:%
%:%734=294%:%
%:%735=294%:%
%:%736=295%:%
%:%737=295%:%
%:%738=296%:%
%:%739=296%:%
%:%740=297%:%
%:%741=297%:%
%:%742=298%:%
%:%743=298%:%
%:%744=299%:%
%:%745=299%:%
%:%746=300%:%
%:%747=300%:%
%:%748=301%:%
%:%749=301%:%
%:%750=302%:%
%:%751=302%:%
%:%752=303%:%
%:%753=303%:%
%:%754=304%:%
%:%755=304%:%
%:%756=305%:%
%:%762=305%:%
%:%765=306%:%
%:%766=307%:%
%:%767=307%:%
%:%768=308%:%
%:%769=309%:%
%:%770=310%:%
%:%771=311%:%
%:%772=312%:%
%:%779=313%:%
%:%780=313%:%
%:%781=314%:%
%:%782=314%:%
%:%784=316%:%
%:%785=317%:%
%:%786=318%:%
%:%787=318%:%
%:%788=319%:%
%:%789=319%:%
%:%790=320%:%
%:%791=320%:%
%:%792=321%:%
%:%793=321%:%
%:%794=321%:%
%:%795=322%:%
%:%796=322%:%
%:%797=323%:%
%:%798=323%:%
%:%799=324%:%
%:%800=324%:%
%:%801=325%:%
%:%802=325%:%
%:%803=326%:%
%:%804=326%:%
%:%805=327%:%
%:%806=327%:%
%:%807=327%:%
%:%808=328%:%
%:%809=328%:%
%:%810=329%:%
%:%811=329%:%
%:%812=330%:%
%:%813=330%:%
%:%814=331%:%
%:%815=331%:%
%:%816=332%:%
%:%817=332%:%
%:%818=333%:%
%:%819=333%:%
%:%820=333%:%
%:%821=334%:%
%:%822=334%:%
%:%823=335%:%
%:%824=335%:%
%:%825=335%:%
%:%826=336%:%
%:%827=336%:%
%:%828=337%:%
%:%829=337%:%
%:%830=337%:%
%:%831=338%:%
%:%832=338%:%
%:%833=338%:%
%:%834=339%:%
%:%835=339%:%
%:%836=340%:%
%:%842=340%:%
%:%845=341%:%
%:%846=342%:%
%:%847=342%:%
%:%848=343%:%
%:%849=344%:%
%:%850=345%:%
%:%857=346%:%
%:%858=346%:%
%:%859=347%:%
%:%860=347%:%
%:%861=348%:%
%:%862=348%:%
%:%863=348%:%
%:%864=349%:%
%:%865=349%:%
%:%866=350%:%
%:%867=350%:%
%:%868=350%:%
%:%869=351%:%
%:%870=351%:%
%:%871=352%:%
%:%872=352%:%
%:%873=353%:%
%:%874=353%:%
%:%875=353%:%
%:%876=354%:%
%:%877=354%:%
%:%878=355%:%
%:%879=355%:%
%:%880=356%:%
%:%881=356%:%
%:%882=357%:%
%:%883=357%:%
%:%884=358%:%
%:%885=358%:%
%:%886=359%:%
%:%887=359%:%
%:%888=359%:%
%:%889=360%:%
%:%890=360%:%
%:%891=361%:%
%:%892=361%:%
%:%893=362%:%
%:%894=362%:%
%:%895=362%:%
%:%896=363%:%
%:%897=363%:%
%:%898=364%:%
%:%899=364%:%
%:%900=365%:%
%:%901=365%:%
%:%902=366%:%
%:%903=367%:%
%:%904=367%:%
%:%905=368%:%
%:%906=368%:%
%:%907=368%:%
%:%908=369%:%
%:%909=369%:%
%:%910=369%:%
%:%911=370%:%
%:%912=371%:%
%:%913=371%:%
%:%914=372%:%
%:%915=372%:%
%:%916=373%:%
%:%917=373%:%
%:%918=374%:%
%:%919=374%:%
%:%920=374%:%
%:%921=375%:%
%:%922=375%:%
%:%923=376%:%
%:%924=376%:%
%:%925=377%:%
%:%926=377%:%
%:%927=378%:%
%:%928=379%:%
%:%929=379%:%
%:%930=379%:%
%:%931=380%:%
%:%932=380%:%
%:%933=381%:%
%:%934=381%:%
%:%935=381%:%
%:%936=382%:%
%:%937=382%:%
%:%938=382%:%
%:%939=383%:%
%:%940=383%:%
%:%941=383%:%
%:%942=384%:%
%:%943=384%:%
%:%944=385%:%
%:%945=386%:%
%:%946=386%:%
%:%947=386%:%
%:%948=387%:%
%:%949=387%:%
%:%950=388%:%
%:%951=388%:%
%:%952=389%:%
%:%953=389%:%
%:%954=390%:%
%:%955=390%:%
%:%958=393%:%
%:%959=394%:%
%:%960=394%:%
%:%961=395%:%
%:%962=395%:%
%:%963=396%:%
%:%964=396%:%
%:%965=397%:%
%:%966=397%:%
%:%967=397%:%
%:%968=397%:%
%:%969=398%:%
%:%970=398%:%
%:%971=399%:%
%:%972=399%:%
%:%973=399%:%
%:%974=400%:%
%:%975=400%:%
%:%976=401%:%
%:%977=401%:%
%:%978=402%:%
%:%979=402%:%
%:%980=402%:%
%:%981=403%:%
%:%982=403%:%
%:%983=404%:%
%:%984=404%:%
%:%985=405%:%
%:%991=405%:%
%:%994=406%:%
%:%995=407%:%
%:%996=407%:%
%:%997=408%:%
%:%998=409%:%
%:%999=410%:%
%:%1006=411%:%
%:%1007=411%:%
%:%1008=412%:%
%:%1009=412%:%
%:%1010=412%:%
%:%1011=413%:%
%:%1012=413%:%
%:%1013=414%:%
%:%1014=414%:%
%:%1015=414%:%
%:%1016=415%:%
%:%1017=415%:%
%:%1018=415%:%
%:%1019=416%:%
%:%1020=416%:%
%:%1021=417%:%
%:%1022=417%:%
%:%1023=417%:%
%:%1024=418%:%
%:%1025=418%:%
%:%1026=419%:%
%:%1027=419%:%
%:%1028=420%:%
%:%1029=420%:%
%:%1030=421%:%
%:%1031=421%:%
%:%1032=422%:%
%:%1033=422%:%
%:%1034=423%:%
%:%1035=423%:%
%:%1036=423%:%
%:%1037=424%:%
%:%1038=424%:%
%:%1039=425%:%
%:%1040=425%:%
%:%1041=426%:%
%:%1042=426%:%
%:%1043=426%:%
%:%1044=427%:%
%:%1045=427%:%
%:%1046=427%:%
%:%1047=428%:%
%:%1048=428%:%
%:%1049=428%:%
%:%1050=429%:%
%:%1051=429%:%
%:%1052=430%:%
%:%1058=430%:%
%:%1061=431%:%
%:%1062=432%:%
%:%1063=433%:%
%:%1064=433%:%
%:%1065=434%:%
%:%1066=435%:%
%:%1067=436%:%
%:%1068=437%:%
%:%1069=438%:%
%:%1076=439%:%
%:%1077=439%:%
%:%1078=440%:%
%:%1079=440%:%
%:%1080=440%:%
%:%1081=441%:%
%:%1082=441%:%
%:%1083=442%:%
%:%1084=442%:%
%:%1085=442%:%
%:%1086=443%:%
%:%1087=443%:%
%:%1088=443%:%
%:%1089=444%:%
%:%1090=445%:%
%:%1091=445%:%
%:%1092=446%:%
%:%1093=446%:%
%:%1094=446%:%
%:%1095=447%:%
%:%1096=447%:%
%:%1097=448%:%
%:%1098=448%:%
%:%1099=449%:%
%:%1100=449%:%
%:%1101=450%:%
%:%1102=450%:%
%:%1103=451%:%
%:%1104=451%:%
%:%1105=452%:%
%:%1106=452%:%
%:%1107=452%:%
%:%1108=453%:%
%:%1109=453%:%
%:%1110=454%:%
%:%1111=454%:%
%:%1112=455%:%
%:%1113=456%:%
%:%1114=457%:%
%:%1115=457%:%
%:%1116=457%:%
%:%1117=458%:%
%:%1118=458%:%
%:%1119=459%:%
%:%1120=459%:%
%:%1121=460%:%
%:%1122=460%:%
%:%1123=461%:%
%:%1124=461%:%
%:%1125=461%:%
%:%1126=462%:%
%:%1127=462%:%
%:%1128=463%:%
%:%1134=463%:%
%:%1137=464%:%
%:%1138=465%:%
%:%1139=465%:%
%:%1140=466%:%
%:%1141=467%:%
%:%1142=468%:%
%:%1145=469%:%
%:%1149=469%:%
%:%1150=469%:%
%:%1151=470%:%
%:%1152=470%:%
%:%1153=471%:%
%:%1154=471%:%
%:%1155=472%:%
%:%1156=472%:%
%:%1157=473%:%
%:%1172=475%:%
%:%1182=477%:%
%:%1183=477%:%
%:%1186=478%:%
%:%1190=478%:%
%:%1191=478%:%
%:%1196=478%:%
%:%1199=479%:%
%:%1200=480%:%
%:%1201=480%:%
%:%1202=481%:%
%:%1203=482%:%
%:%1204=483%:%
%:%1205=484%:%
%:%1206=485%:%
%:%1209=486%:%
%:%1213=486%:%
%:%1214=486%:%
%:%1215=487%:%
%:%1216=487%:%
%:%1217=488%:%
%:%1218=488%:%
%:%1219=489%:%
%:%1220=489%:%
%:%1221=490%:%
%:%1222=490%:%
%:%1223=491%:%
%:%1224=491%:%
%:%1225=492%:%
%:%1226=492%:%
%:%1227=493%:%
%:%1228=493%:%
%:%1229=494%:%
%:%1230=494%:%
%:%1231=494%:%
%:%1232=495%:%
%:%1233=495%:%
%:%1234=495%:%
%:%1235=496%:%
%:%1236=496%:%
%:%1237=496%:%
%:%1238=497%:%
%:%1239=497%:%
%:%1240=497%:%
%:%1241=498%:%
%:%1242=498%:%
%:%1243=498%:%
%:%1244=499%:%
%:%1245=499%:%
%:%1246=500%:%
%:%1247=500%:%
%:%1248=500%:%
%:%1249=501%:%
%:%1250=501%:%
%:%1251=501%:%
%:%1252=502%:%
%:%1253=502%:%
%:%1254=502%:%
%:%1255=503%:%
%:%1256=503%:%
%:%1257=503%:%
%:%1258=504%:%
%:%1259=504%:%
%:%1260=504%:%
%:%1261=505%:%
%:%1262=505%:%
%:%1263=505%:%
%:%1264=506%:%
%:%1265=506%:%
%:%1266=507%:%
%:%1267=507%:%
%:%1268=507%:%
%:%1269=508%:%
%:%1270=508%:%
%:%1271=509%:%
%:%1280=511%:%
%:%1281=512%:%
%:%1282=512%:%
%:%1283=513%:%
%:%1284=514%:%
%:%1285=516%:%
%:%1286=516%:%
%:%1289=517%:%
%:%1293=517%:%
%:%1294=517%:%
%:%1295=517%:%
%:%1300=517%:%
%:%1303=518%:%
%:%1304=519%:%
%:%1305=519%:%
%:%1308=520%:%
%:%1312=520%:%
%:%1313=520%:%
%:%1314=521%:%
%:%1315=521%:%
%:%1320=521%:%
%:%1323=522%:%
%:%1324=523%:%
%:%1325=523%:%
%:%1326=524%:%
%:%1329=525%:%
%:%1333=525%:%
%:%1334=525%:%
%:%1335=525%:%
%:%1340=525%:%
%:%1343=526%:%
%:%1344=527%:%
%:%1345=527%:%
%:%1346=528%:%
%:%1347=529%:%
%:%1348=530%:%
%:%1349=531%:%
%:%1350=532%:%
%:%1351=533%:%
%:%1352=533%:%
%:%1355=534%:%
%:%1359=534%:%
%:%1360=534%:%
%:%1368=536%:%
%:%1369=537%:%
%:%1370=537%:%
%:%1371=538%:%
%:%1372=539%:%
%:%1373=540%:%
%:%1376=541%:%
%:%1380=541%:%
%:%1381=541%:%
%:%1382=542%:%
%:%1383=542%:%
%:%1384=543%:%
%:%1385=543%:%
%:%1386=544%:%
%:%1387=544%:%
%:%1388=544%:%
%:%1389=545%:%
%:%1390=545%:%
%:%1391=545%:%
%:%1392=546%:%
%:%1393=546%:%
%:%1394=547%:%
%:%1395=547%:%
%:%1396=548%:%
%:%1397=548%:%
%:%1398=548%:%
%:%1399=549%:%
%:%1400=549%:%
%:%1401=550%:%
%:%1409=550%:%
%:%1410=551%:%
%:%1411=552%:%
%:%1412=552%:%
%:%1413=553%:%
%:%1414=554%:%
%:%1417=555%:%
%:%1421=555%:%
%:%1422=555%:%
%:%1423=556%:%
%:%1424=556%:%
%:%1425=556%:%
%:%1426=557%:%
%:%1427=557%:%
%:%1428=558%:%
%:%1437=560%:%
%:%1438=561%:%
%:%1439=561%:%
%:%1440=562%:%
%:%1441=563%:%
%:%1442=564%:%
%:%1449=565%:%
%:%1450=565%:%
%:%1451=565%:%
%:%1452=566%:%
%:%1453=566%:%
%:%1454=567%:%
%:%1455=567%:%
%:%1456=568%:%
%:%1457=568%:%
%:%1458=569%:%
%:%1459=569%:%
%:%1460=569%:%
%:%1461=570%:%
%:%1462=571%:%
%:%1463=571%:%
%:%1464=572%:%
%:%1465=572%:%
%:%1466=572%:%
%:%1467=573%:%
%:%1468=573%:%
%:%1469=573%:%
%:%1470=574%:%
%:%1471=574%:%
%:%1472=574%:%
%:%1473=575%:%
%:%1474=575%:%
%:%1475=576%:%
%:%1476=576%:%
%:%1477=577%:%
%:%1478=577%:%
%:%1479=577%:%
%:%1480=578%:%
%:%1481=578%:%
%:%1482=579%:%
%:%1483=579%:%
%:%1484=580%:%
%:%1485=580%:%
%:%1486=581%:%
%:%1487=581%:%
%:%1488=582%:%
%:%1489=582%:%
%:%1490=582%:%
%:%1491=583%:%
%:%1492=583%:%
%:%1493=584%:%
%:%1494=585%:%
%:%1495=585%:%
%:%1496=586%:%
%:%1497=586%:%
%:%1498=587%:%
%:%1499=587%:%
%:%1500=588%:%
%:%1501=588%:%
%:%1502=589%:%
%:%1503=589%:%
%:%1504=589%:%
%:%1505=590%:%
%:%1506=590%:%
%:%1507=591%:%
%:%1508=591%:%
%:%1509=591%:%
%:%1510=592%:%
%:%1511=592%:%
%:%1512=592%:%
%:%1513=593%:%
%:%1514=593%:%
%:%1515=593%:%
%:%1516=594%:%
%:%1517=594%:%
%:%1518=595%:%
%:%1519=595%:%
%:%1520=596%:%
%:%1521=596%:%
%:%1522=597%:%
%:%1523=597%:%
%:%1524=597%:%
%:%1525=598%:%
%:%1526=598%:%
%:%1527=599%:%
%:%1528=600%:%
%:%1529=600%:%
%:%1530=601%:%
%:%1531=601%:%
%:%1532=602%:%
%:%1533=602%:%
%:%1534=603%:%
%:%1535=603%:%
%:%1536=604%:%
%:%1537=604%:%
%:%1538=605%:%
%:%1539=605%:%
%:%1540=605%:%
%:%1541=606%:%
%:%1542=607%:%
%:%1543=607%:%
%:%1544=608%:%
%:%1545=608%:%
%:%1546=608%:%
%:%1547=609%:%
%:%1548=609%:%
%:%1549=609%:%
%:%1550=610%:%
%:%1551=610%:%
%:%1552=610%:%
%:%1553=611%:%
%:%1554=611%:%
%:%1555=612%:%
%:%1556=612%:%
%:%1557=613%:%
%:%1558=613%:%
%:%1559=613%:%
%:%1560=614%:%
%:%1561=614%:%
%:%1562=614%:%
%:%1563=615%:%
%:%1564=615%:%
%:%1565=616%:%
%:%1566=616%:%
%:%1567=617%:%
%:%1568=617%:%
%:%1569=617%:%
%:%1570=618%:%
%:%1571=618%:%
%:%1572=619%:%
%:%1573=619%:%
%:%1574=620%:%
%:%1575=621%:%
%:%1576=621%:%
%:%1577=622%:%
%:%1578=622%:%
%:%1579=622%:%
%:%1580=623%:%
%:%1581=623%:%
%:%1582=624%:%
%:%1583=624%:%
%:%1584=625%:%
%:%1585=625%:%
%:%1586=625%:%
%:%1587=626%:%
%:%1588=626%:%
%:%1589=627%:%
%:%1590=627%:%
%:%1591=628%:%
%:%1592=628%:%
%:%1593=628%:%
%:%1594=629%:%
%:%1595=629%:%
%:%1596=630%:%
%:%1597=630%:%
%:%1598=630%:%
%:%1599=631%:%
%:%1600=631%:%
%:%1601=632%:%
%:%1602=632%:%
%:%1603=632%:%
%:%1604=633%:%
%:%1605=633%:%
%:%1606=634%:%
%:%1607=634%:%
%:%1608=634%:%
%:%1609=635%:%
%:%1610=635%:%
%:%1611=635%:%
%:%1612=636%:%
%:%1620=636%:%
%:%1621=637%:%
%:%1622=638%:%
%:%1630=640%:%
%:%1642=642%:%
%:%1643=643%:%
%:%1646=645%:%
%:%1647=646%:%
%:%1648=646%:%
%:%1649=647%:%
%:%1650=648%:%
%:%1651=649%:%
%:%1654=652%:%
%:%1655=654%:%
%:%1656=654%:%
%:%1659=655%:%
%:%1663=655%:%
%:%1664=655%:%
%:%1669=655%:%
%:%1672=656%:%
%:%1673=657%:%
%:%1674=657%:%
%:%1677=658%:%
%:%1681=658%:%
%:%1682=658%:%
%:%1687=658%:%
%:%1690=659%:%
%:%1691=660%:%
%:%1692=660%:%
%:%1693=661%:%
%:%1694=662%:%
%:%1695=663%:%
%:%1702=664%:%
%:%1703=664%:%
%:%1704=665%:%
%:%1705=665%:%
%:%1706=666%:%
%:%1707=666%:%
%:%1708=666%:%
%:%1709=667%:%
%:%1710=667%:%
%:%1711=668%:%
%:%1712=668%:%
%:%1713=669%:%
%:%1714=669%:%
%:%1715=670%:%
%:%1716=670%:%
%:%1717=671%:%
%:%1718=671%:%
%:%1719=671%:%
%:%1720=672%:%
%:%1721=672%:%
%:%1722=673%:%
%:%1723=673%:%
%:%1724=673%:%
%:%1725=674%:%
%:%1728=677%:%
%:%1729=678%:%
%:%1730=678%:%
%:%1731=678%:%
%:%1732=679%:%
%:%1733=679%:%
%:%1734=680%:%
%:%1735=681%:%
%:%1736=681%:%
%:%1737=682%:%
%:%1738=682%:%
%:%1739=683%:%
%:%1740=683%:%
%:%1741=684%:%
%:%1742=685%:%
%:%1743=686%:%
%:%1744=686%:%
%:%1745=687%:%
%:%1746=687%:%
%:%1747=688%:%
%:%1748=688%:%
%:%1749=689%:%
%:%1750=689%:%
%:%1751=690%:%
%:%1752=690%:%
%:%1753=691%:%
%:%1754=691%:%
%:%1755=692%:%
%:%1756=692%:%
%:%1757=692%:%
%:%1758=693%:%
%:%1759=693%:%
%:%1760=693%:%
%:%1761=693%:%
%:%1762=694%:%
%:%1763=694%:%
%:%1764=694%:%
%:%1765=695%:%
%:%1766=695%:%
%:%1767=695%:%
%:%1768=696%:%
%:%1769=696%:%
%:%1770=696%:%
%:%1771=697%:%
%:%1772=697%:%
%:%1773=698%:%
%:%1774=698%:%
%:%1775=698%:%
%:%1776=699%:%
%:%1777=699%:%
%:%1778=700%:%
%:%1779=700%:%
%:%1780=700%:%
%:%1781=701%:%
%:%1782=701%:%
%:%1783=702%:%
%:%1784=702%:%
%:%1785=703%:%
%:%1786=703%:%
%:%1787=703%:%
%:%1788=704%:%
%:%1789=704%:%
%:%1790=705%:%
%:%1791=705%:%
%:%1792=706%:%
%:%1793=707%:%
%:%1799=707%:%
%:%1802=708%:%
%:%1803=709%:%
%:%1804=709%:%
%:%1805=710%:%
%:%1806=711%:%
%:%1807=712%:%
%:%1808=713%:%
%:%1810=715%:%
%:%1817=716%:%
%:%1818=716%:%
%:%1819=717%:%
%:%1820=717%:%
%:%1821=718%:%
%:%1822=718%:%
%:%1823=719%:%
%:%1824=720%:%
%:%1825=721%:%
%:%1826=721%:%
%:%1827=722%:%
%:%1828=722%:%
%:%1829=723%:%
%:%1830=723%:%
%:%1831=723%:%
%:%1832=724%:%
%:%1833=724%:%
%:%1834=725%:%
%:%1835=725%:%
%:%1836=726%:%
%:%1837=726%:%
%:%1838=727%:%
%:%1839=727%:%
%:%1840=728%:%
%:%1841=728%:%
%:%1842=729%:%
%:%1843=729%:%
%:%1844=730%:%
%:%1845=730%:%
%:%1846=731%:%
%:%1847=732%:%
%:%1848=733%:%
%:%1849=733%:%
%:%1850=734%:%
%:%1851=734%:%
%:%1852=735%:%
%:%1853=735%:%
%:%1854=736%:%
%:%1855=736%:%
%:%1856=736%:%
%:%1857=737%:%
%:%1858=737%:%
%:%1859=738%:%
%:%1860=738%:%
%:%1861=739%:%
%:%1862=739%:%
%:%1863=740%:%
%:%1864=740%:%
%:%1865=741%:%
%:%1866=741%:%
%:%1867=742%:%
%:%1868=742%:%
%:%1869=743%:%
%:%1870=743%:%
%:%1871=744%:%
%:%1872=744%:%
%:%1873=745%:%
%:%1874=745%:%
%:%1876=747%:%
%:%1877=748%:%
%:%1878=748%:%
%:%1879=749%:%
%:%1880=749%:%
%:%1881=750%:%
%:%1882=750%:%
%:%1883=750%:%
%:%1884=751%:%
%:%1885=751%:%
%:%1886=752%:%
%:%1887=752%:%
%:%1888=753%:%
%:%1889=753%:%
%:%1890=754%:%
%:%1891=754%:%
%:%1894=757%:%
%:%1895=758%:%
%:%1896=758%:%
%:%1897=759%:%
%:%1898=759%:%
%:%1899=760%:%
%:%1900=760%:%
%:%1901=761%:%
%:%1902=762%:%
%:%1903=762%:%
%:%1904=762%:%
%:%1905=763%:%
%:%1906=763%:%
%:%1907=764%:%
%:%1908=764%:%
%:%1909=765%:%
%:%1910=765%:%
%:%1911=766%:%
%:%1912=766%:%
%:%1913=766%:%
%:%1915=768%:%
%:%1916=769%:%
%:%1917=769%:%
%:%1918=770%:%
%:%1919=770%:%
%:%1920=771%:%
%:%1921=771%:%
%:%1922=772%:%
%:%1923=772%:%
%:%1924=773%:%
%:%1925=773%:%
%:%1926=774%:%
%:%1927=774%:%
%:%1928=774%:%
%:%1930=776%:%
%:%1931=777%:%
%:%1932=777%:%
%:%1933=778%:%
%:%1934=779%:%
%:%1935=779%:%
%:%1936=780%:%
%:%1937=780%:%
%:%1938=781%:%
%:%1939=781%:%
%:%1940=782%:%
%:%1941=782%:%
%:%1942=783%:%
%:%1943=783%:%
%:%1944=783%:%
%:%1945=783%:%
%:%1946=784%:%
%:%1952=784%:%
%:%1955=785%:%
%:%1956=786%:%
%:%1957=786%:%
%:%1958=787%:%
%:%1959=788%:%
%:%1962=789%:%
%:%1966=789%:%
%:%1967=789%:%
%:%1968=790%:%
%:%1969=790%:%
%:%1970=791%:%
%:%1971=791%:%
%:%1972=791%:%
%:%1973=792%:%
%:%1974=792%:%
%:%1975=793%:%
%:%1976=793%:%
%:%1981=793%:%
%:%1984=794%:%
%:%1985=795%:%
%:%1986=795%:%
%:%1987=796%:%
%:%1988=797%:%
%:%1989=798%:%
%:%1990=799%:%
%:%1991=800%:%
%:%1994=801%:%
%:%1998=801%:%
%:%1999=801%:%
%:%2000=801%:%
%:%2001=802%:%
%:%2002=802%:%
%:%2003=802%:%
%:%2008=802%:%
%:%2011=803%:%
%:%2012=804%:%
%:%2013=804%:%
%:%2014=805%:%
%:%2015=806%:%
%:%2016=807%:%
%:%2019=808%:%
%:%2023=808%:%
%:%2024=808%:%
%:%2025=809%:%
%:%2026=809%:%
%:%2027=810%:%
%:%2028=810%:%
%:%2029=811%:%
%:%2030=811%:%
%:%2031=812%:%
%:%2032=812%:%
%:%2033=813%:%
%:%2034=813%:%
%:%2035=814%:%
%:%2036=814%:%
%:%2037=814%:%
%:%2038=815%:%
%:%2039=815%:%
%:%2040=816%:%
%:%2041=816%:%
%:%2042=817%:%
%:%2043=817%:%
%:%2044=818%:%
%:%2045=818%:%
%:%2046=819%:%
%:%2047=819%:%
%:%2048=820%:%
%:%2049=820%:%
%:%2050=821%:%
%:%2051=822%:%
%:%2052=822%:%
%:%2053=823%:%
%:%2054=823%:%
%:%2055=824%:%
%:%2056=824%:%
%:%2057=825%:%
%:%2058=825%:%
%:%2059=826%:%
%:%2060=826%:%
%:%2061=827%:%
%:%2062=827%:%
%:%2063=828%:%
%:%2064=828%:%
%:%2065=828%:%
%:%2066=829%:%
%:%2067=829%:%
%:%2068=830%:%
%:%2069=830%:%
%:%2070=830%:%
%:%2071=831%:%
%:%2072=831%:%
%:%2073=832%:%
%:%2074=832%:%
%:%2075=833%:%
%:%2076=833%:%
%:%2077=834%:%
%:%2078=834%:%
%:%2079=835%:%
%:%2080=835%:%
%:%2081=836%:%
%:%2082=836%:%
%:%2083=837%:%
%:%2084=837%:%
%:%2085=838%:%
%:%2086=838%:%
%:%2087=838%:%
%:%2088=839%:%
%:%2089=839%:%
%:%2090=840%:%
%:%2091=840%:%
%:%2092=840%:%
%:%2093=841%:%
%:%2094=841%:%
%:%2095=842%:%
%:%2096=842%:%
%:%2097=843%:%
%:%2103=843%:%
%:%2106=844%:%
%:%2107=845%:%
%:%2108=845%:%
%:%2110=846%:%
%:%2112=847%:%
%:%2113=847%:%
%:%2114=848%:%
%:%2115=849%:%
%:%2118=850%:%
%:%2122=850%:%
%:%2123=850%:%
%:%2124=851%:%
%:%2125=851%:%
%:%2126=852%:%
%:%2127=852%:%
%:%2128=853%:%
%:%2129=853%:%
%:%2130=853%:%
%:%2131=854%:%
%:%2137=854%:%
%:%2140=855%:%
%:%2141=856%:%
%:%2142=856%:%
%:%2143=857%:%
%:%2144=858%:%
%:%2147=859%:%
%:%2151=859%:%
%:%2152=859%:%
%:%2153=860%:%
%:%2154=860%:%
%:%2155=861%:%
%:%2156=861%:%
%:%2157=862%:%
%:%2158=862%:%
%:%2159=863%:%
%:%2160=863%:%
%:%2161=864%:%
%:%2162=864%:%
%:%2163=865%:%
%:%2164=865%:%
%:%2165=866%:%
%:%2166=866%:%
%:%2167=867%:%
%:%2168=867%:%
%:%2169=868%:%
%:%2170=868%:%
%:%2171=869%:%
%:%2172=869%:%
%:%2173=870%:%
%:%2174=870%:%
%:%2175=871%:%
%:%2176=871%:%
%:%2177=872%:%
%:%2178=872%:%
%:%2179=873%:%
%:%2180=873%:%
%:%2181=874%:%
%:%2182=874%:%
%:%2183=875%:%
%:%2184=875%:%
%:%2185=876%:%
%:%2186=876%:%
%:%2187=877%:%
%:%2188=877%:%
%:%2189=878%:%
%:%2190=878%:%
%:%2191=879%:%
%:%2192=879%:%
%:%2193=880%:%
%:%2194=880%:%
%:%2195=881%:%
%:%2196=881%:%
%:%2197=882%:%
%:%2198=882%:%
%:%2199=883%:%
%:%2200=883%:%
%:%2208=885%:%
%:%2209=886%:%
%:%2210=886%:%
%:%2211=887%:%
%:%2212=888%:%
%:%2213=889%:%
%:%2214=890%:%
%:%2215=891%:%
%:%2216=892%:%
%:%2217=893%:%
%:%2224=894%:%
%:%2225=894%:%
%:%2226=895%:%
%:%2227=895%:%
%:%2228=896%:%
%:%2229=896%:%
%:%2230=896%:%
%:%2231=896%:%
%:%2232=897%:%
%:%2233=897%:%
%:%2234=897%:%
%:%2235=898%:%
%:%2236=899%:%
%:%2237=899%:%
%:%2238=899%:%
%:%2239=900%:%
%:%2240=900%:%
%:%2241=900%:%
%:%2242=901%:%
%:%2243=902%:%
%:%2244=902%:%
%:%2245=902%:%
%:%2246=902%:%
%:%2247=903%:%
%:%2248=903%:%
%:%2249=904%:%
%:%2250=904%:%
%:%2251=905%:%
%:%2252=905%:%
%:%2253=906%:%
%:%2254=906%:%
%:%2255=907%:%
%:%2256=907%:%
%:%2257=908%:%
%:%2258=908%:%
%:%2259=909%:%
%:%2260=909%:%
%:%2261=910%:%
%:%2262=910%:%
%:%2263=911%:%
%:%2264=911%:%
%:%2265=912%:%
%:%2266=913%:%
%:%2267=913%:%
%:%2268=913%:%
%:%2269=914%:%
%:%2270=914%:%
%:%2271=915%:%
%:%2272=915%:%
%:%2273=915%:%
%:%2274=916%:%
%:%2275=916%:%
%:%2276=916%:%
%:%2277=917%:%
%:%2278=917%:%
%:%2279=918%:%
%:%2280=918%:%
%:%2281=919%:%
%:%2282=919%:%
%:%2283=920%:%
%:%2284=920%:%
%:%2285=920%:%
%:%2286=921%:%
%:%2287=921%:%
%:%2288=922%:%
%:%2289=922%:%
%:%2290=923%:%
%:%2291=923%:%
%:%2292=924%:%
%:%2293=924%:%
%:%2294=925%:%
%:%2295=925%:%
%:%2296=926%:%
%:%2304=926%:%
%:%2307=998%:%
%:%2312=999%:%
